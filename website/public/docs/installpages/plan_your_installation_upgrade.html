<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-23.1 docs-doc-page docs-doc-id-installpages/plan_your_installation_upgrade" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Plan Your Installation / Upgrade · Digital.ai TeamForge</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://staging.docs.digital.ai/teamforge/docs/installpages/plan_your_installation_upgrade"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:product" content="teamforge"><meta data-rh="true" property="og:image" content="https://digital.ai/wp-content/uploads/2022/09/HP-BN-GEN-2022-12-platform-image-2048x367.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:image" content="https://digital.ai/wp-content/uploads/2022/09/HP-BN-GEN-2022-12-platform-image-2048x367.png"><meta data-rh="true" name="twitter:site" content="@digitaldotai"><meta data-rh="true" name="docusaurus_version" content="23.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-23.1"><meta data-rh="true" name="docsearch:version" content="23.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-23.1"><meta data-rh="true" property="og:title" content="Plan Your Installation / Upgrade · Digital.ai TeamForge"><meta data-rh="true" name="description" content="Plan your installation or upgrade setup, hardware and software requirements and so on before you begin."><meta data-rh="true" property="og:description" content="Plan your installation or upgrade setup, hardware and software requirements and so on before you begin."><meta data-rh="true" name="keywords" content="plan,planning,services"><link data-rh="true" rel="icon" href="/teamforge/brand/digitalai/Favicon-FC-.svg"><link data-rh="true" rel="canonical" href="https://staging.docs.digital.ai/teamforge/docs/installpages/plan_your_installation_upgrade"><link data-rh="true" rel="alternate" href="https://staging.docs.digital.ai/teamforge/docs/installpages/plan_your_installation_upgrade" hreflang="en"><link data-rh="true" rel="alternate" href="https://staging.docs.digital.ai/teamforge/docs/installpages/plan_your_installation_upgrade" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FO8TEHAYUG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Digital.ai TeamForge" href="/teamforge/opensearch.xml">
<link rel="icon" href="/teamforge/img/pwa/manifest-icon-512.png">
<link rel="manifest" href="/teamforge/manifest.json">
<meta name="theme-color" content="#20232a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#20232a">
<link rel="apple-touch-icon" href="/teamforge/img/pwa/manifest-icon-512.png">
<link rel="mask-icon" href="/teamforge/img/pwa/manifest-icon-512.png" color="#06bcee">
<meta name="msapplication-TileImage" href="/teamforge/img/pwa/manifest-icon-512.png">
<meta name="msapplication-TileColor" content="#20232a"><link rel="stylesheet" href="/teamforge/assets/css/styles.63a3b17c.css">
<script src="/teamforge/assets/js/runtime~main.1ac308c3.js" defer="defer"></script>
<script src="/teamforge/assets/js/main.ded1c8d7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_zJRd" style="background-color:#20232a;color:#fff" role="banner"><div class="announcementBarPlaceholder_NpUd"></div><div class="content_bSb_ announcementBarContent_t7IR"><a target="_blank" href="https://devopsai-my.sharepoint.com/:p:/g/personal/rjanarthanan_digital_ai/EZCAc8-0hCtCiVXAE9ZIiF8BgNF1foc76rbOOmME_DCMYQ?e=9ev1lb">Project Phoenix</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_J5rP announcementBarClose_Jjdj"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/teamforge/"><div class="navbar__logo"><img src="/teamforge/brand/digitalai/Digital_ai-FC-RGB.svg" alt="digital.ai" class="themedComponent_siVc themedComponent--light_hHel"><img src="/teamforge/brand/digitalai/Digital_ai-FC-Reverse-RGB.svg" alt="digital.ai" class="themedComponent_siVc themedComponent--dark_yETr"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/teamforge/docs/installpages/plan_your_installation_upgrade">Product</a><ul class="dropdown__menu"><li><a class="dropdown__link" target="_self" href="/teamforge/../platform">Platform</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../agility">Agility</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../deploy">Deploy</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../release">Release</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../appmanagement">App Management</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../intelligence">Intelligence</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../continuostesting">Continuous Testing</a></li><li><a class="dropdown__link" target="_self" href="/teamforge/../appsecurity">App Security</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/teamforge/docs/teamforge-overview">23.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/teamforge/docs/next/installpages/plan_your_installation_upgrade">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/teamforge/docs/installpages/plan_your_installation_upgrade">23.1</a></li></ul></div><a href="https://digitalai.us.digital.ai/signin/docs?redirect=https%3A%2F%2Fdocs.digital.ai%2F" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><main class="docMainContainer_a9sJ docMainContainerEnhanced_grEJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 23.1</span><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Plan Your Installation / Upgrade</h1></header><h2 class="anchor anchorWithStickyNavbar_JmGV" id="teamforgeservices">TeamForge Services<a class="hash-link" aria-label="Direct link to TeamForge Services" title="Direct link to TeamForge Services" href="/teamforge/docs/installpages/plan_your_installation_upgrade#teamforgeservices">​</a></h2>
<p>Before you plan your installation or upgrade, let us understand TeamForge and its services.</p>
<p>A TeamForge site consists of a core TeamForge application and several tightly integrated services that support it. In addition, you can integrate TeamForge with other third party applications such as Nexus, Jenkins, Jira and so on. Some of the TeamForge services are mandatory and some are optional. You can install the services, all in one single server, or distribute them across two or more servers.</p>
<ul>
<li>The core TeamForge application provides the Web interface that users see, and the API that other applications can interact with. It also includes the file system where some user content is stored, such as wiki pages.</li>
<li>The site database is where most of the user-created content is stored and accessed. Documents, discussion posts, tracker artifacts, project administration settings: all that sort of thing lives in the database.</li>
<li>The source control server ties any number of Subversion or Git/Gerrit repositories into the TeamForge site.</li>
<li>The Extract Transform and Load (ETL) server pulls data from the site database and populates the datamart to generate charts and graphs about how people are using the site.
The datamart (Reports DB) is an abstraction of the site database, optimized to support the reporting functionality.</li>
<li>Baseline is a TeamForge capability that lets you create snapshot of selected configuration items from a given TeamForge project at a given point in time. For more information, see <a href="/teamforge/docs/BaselinePages/baseline-overview">TeamForge Baseline</a>.</li>
<li>TeamForge Webhooks-based Event Broker, which is also referred to as the integration broker, is a webhooks-based message broker that pushes the messages of specific events received from a Publisher to a Subscriber. For more information, see <a href="/teamforge/docs/WEBRPages/webhooks-event-broker-overview">TeamForge Webhooks-based Event Broker</a>.</li>
</ul>
<p>Here&#x27;s a list of available TeamForge services.</p>
<table><thead><tr><th>Service</th><th>Mandatory/Optional</th><th>Old Name</th><th>Description</th></tr></thead><tbody><tr><td>ctfcore</td><td>Mandatory</td><td>app</td><td>Main TeamForge application server</td></tr><tr><td>search</td><td>Mandatory</td><td>indexer</td><td>Indexing and searching</td></tr><tr><td>mail</td><td>Mandatory</td><td>NA (added in TeamForge 17.1)</td><td>Email server</td></tr><tr><td>ctfcore-database</td><td>Mandatory</td><td>database</td><td>Operational database</td></tr><tr><td>ctfcore-database-mirror</td><td>Optional</td><td>NA</td><td>Mirror of operational database</td></tr><tr><td>codesearch</td><td>Mandatory</td><td>codesearch</td><td>Code Search</td></tr><tr><td>etl</td><td>Optional</td><td>etl</td><td>ETL for Datamart</td></tr><tr><td>ctfcore-datamart</td><td>Mandatory if and only if you install <code>etl</code></td><td>datamart</td><td>Datamart database</td></tr><tr><td>cliserver</td><td>Mandatory</td><td>NA</td><td>CLI Server</td></tr><tr><td>subversion</td><td>Optional</td><td>subversion</td><td>SVN Version Control</td></tr><tr><td>gerrit</td><td>Optional</td><td>gerrit</td><td>Git/Gerrit Version Control</td></tr><tr><td>gerrit-database</td><td>Mandatory if and only if you install <code>gerrit</code></td><td>NA (added in TeamForge 17.1)</td><td>Database for Git/Gerrit. In a distributed setup, add this identifier to the server where you want to run Gerrit database.<br><br> In a distributed setup with multiple Git integration servers, add this identifier to all the servers that run the Git databases. For more information, see <a href="/teamforge/docs/siteconfigtokens">host<!-- -->:SERVICES</a> token.</td></tr><tr><td>binary</td><td>Optional</td><td>Optional</td><td>Artifact repository integration</td></tr><tr><td>binary-database</td><td>Mandatory if and only if you install <code>binary</code></td><td>binary</td><td>Database for artifact repository integration. Binary app (binary) and database (binary-database) have to be installed on the same server.</td></tr><tr><td>reviewboard</td><td>Optional</td><td>reviewboard</td><td>Review Board code review tool</td></tr><tr><td>reviewboard-database</td><td>Mandatory if and only if you install <code>reviewboard</code></td><td>NA (added in TeamForge 17.1)</td><td>Database for Review Board. In a distributed setup, add this identifier to the server where you want to run Review Board database.</td></tr><tr><td>reviewboard-adapter</td><td>Mandatory if and only if you install <code>reviewboard</code></td><td>NA</td><td>Adapter for reviewboard to copy <code>ctfrbevents.jar</code>. In a distributed setup, <code>reviewboard-adapter</code> must always be installed on the TeamForge Application Server.</td></tr><tr><td>baseline</td><td>Optional</td><td>NA</td><td>Baseline service. In a distributed setup, add this identifier to the server where you want to run the Baseline application.</td></tr><tr><td>baseline-database</td><td>Mandatory if and only if you install <code>baseline</code></td><td>NA</td><td>Baseline database service. In a distributed setup, add this identifier to the server where you want to run the Baseline database.</td></tr><tr><td>baseline-post-install</td><td>Mandatory if and only if you install <code>baseline</code></td><td>NA</td><td>Baseline service that is used to synchronize user information between the Baseline and TeamForge databases.</td></tr><tr><td>webr</td><td>Mandatory. The WEBR application is installed by default when you install or upgrade to TeamForge.</td><td>NA</td><td>Webhooks-based Event Broker service that is used to push the messages of specific events received from a Publisher to a Subscriber.</td></tr><tr><td>webr-database</td><td>Mandatory.</td><td>NA</td><td>Database service for the TeamForge Webhooks-based Event Broker.</td></tr></tbody></table>
<p>These service identifiers are used in the <code>site-options.conf</code> file&#x27;s <code>host:SERVICES</code> token. For more information, see <a href="/teamforge/docs/siteconfigtokens">host<!-- -->:SERVICES</a> token.</p>
<p>In addition, installing TeamForge with service-specific FQDNs (instead of machine-specific host/domain names) is highly recommended so that you will be able to change the system landscape at a later point in time without having any impact on the URLs (in other words, end users do not have to notice or change anything). For example, you can create FQDNs specifically for services such as Subversion, Git, mail, Codesearch and so on. For more information, see [Service-specific FQDNs][siteconfigtokens].</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="singleordistributed">Single Server or Distributed Setup?<a class="hash-link" aria-label="Direct link to Single Server or Distributed Setup?" title="Direct link to Single Server or Distributed Setup?" href="/teamforge/docs/installpages/plan_your_installation_upgrade#singleordistributed">​</a></h2>
<p>If you are installing TeamForge, are you planning to install on a single server or distribute TeamForge services across two or more servers? How are you going to distribute the services?</p>
<p>In the default setup, all services run on the same server as the main TeamForge application. But in practice, only the TeamForge application needs to run on the TeamForge application server. The other services can share that server or run on other servers, in almost any combination.</p>
<p>Assess your own site&#x27;s particular use patterns and resources to decide how to distribute your services, if at all. For example, if you anticipate heavy use of your site, you will want to consider running the site database, the source control service, or the reporting engine on separate hardware to help balance the load. For examples on how to distribute TeamForge services, see <a href="/teamforge/docs/siteconfigtokens">host<!-- -->:SERVICES</a> token.</p>
<p>In a distributed setup, it is highly recommended to have dedicated servers for TeamForge database and SCM services, as these are the most sought after services in TeamForge. If you are installing <a href="/teamforge/docs/BaselinePages/baseline-overview">TeamForge Baseline</a>, it is always recommended to install it on a separate server.</p>
<p>When you distribute your services on multiple servers, you must do some configuration to handle communication between the services. Verify your basic networking setup. See <a href="/teamforge/docs/setupnetworking">Set Up Networking for TeamForge</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="postgresororacle">PostgreSQL or Oracle?<a class="hash-link" aria-label="Direct link to PostgreSQL or Oracle?" title="Direct link to PostgreSQL or Oracle?" href="/teamforge/docs/installpages/plan_your_installation_upgrade#postgresororacle">​</a></h2>
<p>PostgreSQL 13.11 is installed automatically when you install TeamForge 23.1. If you intend to use Oracle, CollabNet recommends that you let the installer run its course, make sure things work normally, and then set up your Oracle database and switch over to it.</p>
<p>If you want to use Oracle as your database, consider the following points:</p>
<ul>
<li>TeamForge 23.1 supports Oracle server 19c and Oracle client 19c.</li>
<li>Oracle express edition is not supported for both client and server.</li>
<li>Review Board VAR::identifiers.review_board was tested with PostgreSQL 13.11 only. Review Board with Oracle was not tested.</li>
<li>Git integration works only with PostgreSQL. The Git integration uses PostgreSQL even if your TeamForge site uses Oracle.</li>
</ul>
<p>The efficiency of your database can have an impact on your users&#x27; perception of the site&#x27;s usability. If your site uses a PostgreSQL database (which is the default), you may want to consider tuning it to fit your specific circumstances. The default settings are intended for a small-to-medium site running on a single server. See <a href="/teamforge/docs/FAQPages/database-faqs#postgres_settings">What are the right PostgreSQL settings for my site?</a> for recommendations from CollabNet&#x27;s performance team on optimizing PostgreSQL for different conditions.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="integrations">Integrations<a class="hash-link" aria-label="Direct link to Integrations" title="Direct link to Integrations" href="/teamforge/docs/installpages/plan_your_installation_upgrade#integrations">​</a></h2>
<p>TeamForge supports integration with a wide array of third party applications such as Nexus, Jira and so on. As a customer, you may or may not always want (or have) all of TeamForge&#x27;s supported integrated applications. It&#x27;s also quite possible that some of the integrated applications may not always run on all the platforms supported by TeamForge. To accommodate a wider audience, by default, TeamForge install and upgrade instructions include steps to integrate such third party applications with TeamForge.</p>
<p>However, use your discretion to ignore and skip such steps if they are not relevant to your site. See <a href="/teamforge/docs/installpages/requirements">TeamForge Installation Requirements</a> to understand what it takes to run TeamForge 23.1 with integrations.</p>
<p><strong>Do you have <code>UserFilter</code> in your Gerrit Quality Gates/Review Rules?</strong>
See: <a href="/teamforge/docs/userfilterremoval#workflowreadiness">How to verify if you can upgrade to TeamForge—Git integration 20.1 or later?</a></p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="one-hop-upgrade-compatibility">One-hop Upgrade Compatibility<a class="hash-link" aria-label="Direct link to One-hop Upgrade Compatibility" title="Direct link to One-hop Upgrade Compatibility" href="/teamforge/docs/installpages/plan_your_installation_upgrade#one-hop-upgrade-compatibility">​</a></h2>
<p>Though the TeamForge 23.1 installer supports one-hop upgrade from TeamForge 22.0 or later versions, TeamForge 23.1 upgrade instructions, in general, are for upgrading from TeamForge 23.0 (including update releases, if any) to TeamForge 23.1 .</p>
<p>There is no support for one-hop upgrade from TeamForge 21.2 or earlier to TeamForge 23.1 . You must upgrade your site to TeamForge 22.0 or later and then upgrade to TeamForge 23.1 .</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="gerrit-upgrade-from-version-216-to-32">Gerrit Upgrade from Version 2.16 to 3.2<a class="hash-link" aria-label="Direct link to Gerrit Upgrade from Version 2.16 to 3.2" title="Direct link to Gerrit Upgrade from Version 2.16 to 3.2" href="/teamforge/docs/installpages/plan_your_installation_upgrade#gerrit-upgrade-from-version-216-to-32">​</a></h2>
<p>Skip this section if you are upgrading from TeamForge 20.3 to 21.0. This is valid if and only if you are upgrading from TeamForge 20.2 or earlier to TeamForge 21.0.</p>
<p>TeamForge 20.3 and later support Gerrit 3.2—a major upgrade that skips two Gerrit versions—<a href="https://www.gerritcodereview.com/3.0.html" target="_blank" rel="noopener noreferrer">3.0</a> and <a href="https://www.gerritcodereview.com/3.1.html" target="_blank" rel="noopener noreferrer">3.1</a> and includes the following note-worthy changes:</p>
<ul>
<li>TeamForge 20.3 (and later) Gerrit is not data-compatible with Gerrit 2.16 or earlier (in other words, not data-compatible with TeamForge 20.0 or earlier). Intermediate data migration to Gerrit 2.16 happens when you upgrade from TeamForge 20.0 or earlier to TeamForge 20.3 (or later). This means that data migration during upgrade takes more than usual time to complete.</li>
<li>TeamForge 20.3 (and later) Gerrit is not index-compatible with any previous version. All open reviews are reindexed offline when you upgrade from TeamForge 20.0 or earlier to TeamForge 20.3 (or later). This means that data migration during upgrade takes more than usual time to complete.</li>
<li><a href="https://www.gerritcodereview.com/3.2.html#schema-changes" target="_blank" rel="noopener noreferrer">Orphaned draft comments are cleaned up</a> when you upgrade to TeamForge 20.3 (or later). It is recommended to schedule and run the following Git garbage collection (Git GC) command directly on the <code>All-Users</code> project before you upgrade to TeamForge 20.3 (or later).<!-- -->
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ssh -p 29418 [admin]@[git-server] gerrit gc All-Users --aggressive --show-progress</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Git Protocol v2 is now default</li>
<li><code>ReviewDB</code> and Gerrit GWT UIs are no longer available</li>
<li>For more information about Git protocol v2, see the <a href="https://git-scm.com/docs/protocol-v2/en" target="_blank" rel="noopener noreferrer">documentation for Git Protocol v2</a>.</li>
<li><code>ReviewDB</code> removal means that the database backend for changes, accounts, groups and projects (<code>ReviewDb</code>) is removed and this metadata is now stored in git (“NoteDb”). As <code>NoteDb</code> is being used by TeamForge 19.0 and later, this change is seamless for the users.</li>
<li>However, the Gerrit GWT UI has more visible consequences. The GWT-related UI plugin functionality had to be ported—either to the new Gerrit Polymer UI or to the TeamForge UI.</li>
</ul>
<p>Noteworthy Changes</p>
<ul>
<li>The Gerrit UI has a new look and feel with the new Gerrit Polymer UI replacing the GWT UI.</li>
<li>The Gerrit UI no longer has the history protection tab. This functionality is now available via the TeamForge Code Browser UI.</li>
<li>Gerrit internal repositories are exposed at the integration level in TeamForge.</li>
<li>Microsoft Internet Explorer 11 is no longer supported in Gerrit UI.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="hardware-and-backup">Hardware and Backup<a class="hash-link" aria-label="Direct link to Hardware and Backup" title="Direct link to Hardware and Backup" href="/teamforge/docs/installpages/plan_your_installation_upgrade#hardware-and-backup">​</a></h2>
<p>If you aren&#x27;t the person who first installed your current TeamForge site (or maybe, even if you are), it&#x27;s essential to catalog the hosts where your services are running and to know what configuration has been applied to them.</p>
<p>While upgrading to a latest TeamForge version, you can choose to upgrade on the same hardware or on new hardware. In general, it is good to have a backup plan in place. Same hardware upgrades need no backup. However, it&#x27;s recommended to take a back up as a measure of caution. See [Back up and Restore TeamForge][backupandrestore] for more information.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="applying-os-security-patches">Applying OS Security Patches<a class="hash-link" aria-label="Direct link to Applying OS Security Patches" title="Direct link to Applying OS Security Patches" href="/teamforge/docs/installpages/plan_your_installation_upgrade#applying-os-security-patches">​</a></h2>
<p>Do not upgrade the following libraries while applying regular OS security patches as TeamForge uses these libraries:</p>
<ul>
<li>Python</li>
<li>Java</li>
<li>Postgres</li>
<li>Apache</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="teamforge-license-framework">TeamForge License Framework<a class="hash-link" aria-label="Direct link to TeamForge License Framework" title="Direct link to TeamForge License Framework" href="/teamforge/docs/installpages/plan_your_installation_upgrade#teamforge-license-framework">​</a></h2>
<p>The TeamForge license framework has been revamped in TeamForge 21.1.</p>
<p>The new TeamForge license model consists of the following license types:</p>
<ul>
<li>TeamForge ALM</li>
<li>TeamForge ALM Essentials</li>
<li>TeamForge SCM</li>
</ul>
<p>Here&#x27;s the list of changes to the new TeamForge license model.</p>
<ul>
<li>The <code>Version Control</code>, <code>Collaboration</code>, and <code>Trackers</code> license types are no longer available in TeamForge 21.1 and later</li>
<li>The <code>ALM</code> and <code>Baselines</code> license types are bundled together and are being offered as the new <code>TeamForge ALM</code> license</li>
<li>The <code>SCM</code> license type has been renamed as <code>TeamForge SCM</code></li>
</ul>
<p>When you migrate from TeamForge 21.0 or earlier to TeamForge 21.1 or later:</p>
<ul>
<li>Existing ALM licenses are migrated to the new TeamForge ALM license</li>
<li>Existing SCM licenses are migrated to TeamForge SCM</li>
<li>All other types of licenses such as Baselines, Version Control, Tracker, and Collaboration are deleted</li>
</ul>
<p>For more information, see <a href="/teamforge/docs/teamforgelicense">TeamForge License</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="other-dos-and-donts">Other Dos and Don&#x27;ts<a class="hash-link" aria-label="Direct link to Other Dos and Don&#x27;ts" title="Direct link to Other Dos and Don&#x27;ts" href="/teamforge/docs/installpages/plan_your_installation_upgrade#other-dos-and-donts">​</a></h2>
<p>Here&#x27;s a list of dos, don&#x27;ts and points to remember when you install or upgrade TeamForge.</p><button type="button" class="btn btn-primary btn-xs light-blue-bg" data-toggle="collapse" href="#beforeYouBegin" aria-expanded="false" aria-controls="beforeYouBegin">Click to Show/Hide</button></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_Ow0B padding--none margin-left--sm"><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-21-1">ctf_21.1</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-21-0">ctf_21.0</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-20-3">ctf_20.3</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-20-2">ctf_20.2</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-20-1">ctf_20.1</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-19-0">ctf_19.0</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/ctf-18-3">ctf_18.3</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/installation">installation</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/upgrade">upgrade</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/getting-started">getting_started</a></li><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/teamforge/docs/tags/backup-restore">backup_restore</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_ydrU"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-07-15T11:28:32.000Z" itemprop="dateModified">Jul 15, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#teamforgeservices">TeamForge Services</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#singleordistributed">Single Server or Distributed Setup?</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#postgresororacle">PostgreSQL or Oracle?</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#integrations">Integrations</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#one-hop-upgrade-compatibility">One-hop Upgrade Compatibility</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#gerrit-upgrade-from-version-216-to-32">Gerrit Upgrade from Version 2.16 to 3.2</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#hardware-and-backup">Hardware and Backup</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#applying-os-security-patches">Applying OS Security Patches</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#teamforge-license-framework">TeamForge License Framework</a></li><li><a class="table-of-contents__link toc-highlight" href="/teamforge/docs/installpages/plan_your_installation_upgrade#other-dos-and-donts">Other Dos and Don&#39;ts</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Participate</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.digital.ai/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://digital.ai/catalyst-blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:docfeedback@digital.ai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Send Feedback<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Find us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/digitaldotai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/digitalaisw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/digitaldotai/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC6k61LnvJGuBpHqC0uuUQ-g" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Explore More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://digital.ai/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://digital.ai/digital-ai-terms-and-policies/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms and Conditions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://digital.ai/" rel="noopener noreferrer" class="footerLogoLink_tutC"><img src="/teamforge/brand/digitalai/Digital_ai-FC-Reverse-RGB.svg" alt="digital.ai" class="footer__logo themedComponent_siVc themedComponent--light_hHel" width="240"><img src="/teamforge/brand/digitalai/Digital_ai-FC-Reverse-RGB.svg" alt="digital.ai" class="footer__logo themedComponent_siVc themedComponent--dark_yETr" width="240"></a></div><div class="footer__copyright">Copyright © 2024 - DIGITAL.AI, ALL RIGHTS RESERVED</div></div></div></footer></div>
</body>
</html>
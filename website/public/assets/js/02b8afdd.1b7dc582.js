"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7338],{16010:(e,n,s)=>{s.d(n,{Ay:()=>o,RM:()=>t});var r=s(62540),i=s(43023);const t=[];function a(e){const n={code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Provision services."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"teamforge provision\n"})}),"\n",(0,r.jsxs)(n.p,{children:["TeamForge 23.1 installer expects the system locale to be ",(0,r.jsx)(n.code,{children:"LANG=en_US.UTF-8"}),". TeamForge create runtime (",(0,r.jsx)(n.code,{children:"teamforge provision"}),") fails otherwise."]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},31843:(e,n,s)=>{s.d(n,{Ay:()=>o,RM:()=>t});var r=s(62540),i=s(43023);const t=[{value:"Post Install Tasks",id:"post-install-tasks",level:2},{value:"Also See...",id:"also-see",level:4}];function a(e){const n={a:"a",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"post-install-tasks",children:"Post Install Tasks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../teamforgelicense",children:"Supply Your TeamForge License Key"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.a,{href:"../setupselinux",children:["Run TeamForge in SELinux ",(0,r.jsx)(n.code,{children:"enabled"})," Mode"]})}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Integrate ",(0,r.jsx)(n.a,{href:"../WEBRPages/teamforge-jenkins-integration",children:"Jenkins"}),", ",(0,r.jsx)(n.a,{href:"../WEBRPages/teamforge-jira-integration",children:"JIRA"}),", and ",(0,r.jsx)(n.a,{href:"../WEBRPages/teamforge-testlink-integration",children:"TestLink"})," using the TeamForge Webhooks-based Event Broker"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../FAQPages/reviewboard-faqs#rbemailsettings",children:"Users are not getting email notifications for review requests and reviews. What should I do?"})}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../FAQPages/reviewboard-faqs.html#cert-verification-cfg",children:"Review Board deployment fails on sites that use a self-signed certificate. What should I do?"})}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"also-see",children:"Also See..."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"../FAQPages/installupgradeadmin-faqs",children:"FAQs on Install / Upgrade / Administration"})})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},66302:(e,n,s)=>{s.d(n,{Ay:()=>o,RM:()=>t});var r=s(62540),i=s(43023);const t=[];function a(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Verify TeamForge installation."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Reboot the server and make sure all services come up automatically at startup."}),"\n",(0,r.jsxs)(n.li,{children:["Log on to the TeamForge web application using the default Admin credentials.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Username: ",(0,r.jsx)(n.code,{children:"admin"})]}),"\n",(0,r.jsxs)(n.li,{children:["Password: ",(0,r.jsx)(n.code,{children:"admin"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Create a sample project. See ",(0,r.jsx)(n.a,{href:"../creatingaproject",children:"Create a TeamForge Project"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Write a welcome message to your site's users. See ",(0,r.jsx)(n.a,{href:"../siteadmin-createsitewidebroadcast",children:"Create a Site-wide Broadcast"}),"."]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},14747:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>j,default:()=>v,frontMatter:()=>x,metadata:()=>m,toc:()=>g});var r=s(62540),i=s(43023),t=s(5163),a=s(40224),o=s(33430),l=s(16010);function d(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"reinitialize-teamforge",children:"Reinitialize TeamForge"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Reinitialize TeamForge on the Review Board Server."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"teamforge reinitialize\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["During ",(0,r.jsx)(n.code,{children:"teamforge provision"}),", the ",(0,r.jsx)(n.code,{children:"Register SCM integration"})," process fails on sites that use self-signed certificates. Perform these steps in such cases."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Restart JBoss on the TeamForge Application Server.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"teamforge restart -s jboss\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Reinitialize TeamForge on the SCM Server.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"teamforge reinitialize\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Do you have Git and other SCM tools (SVN) on two separate servers?"}),(0,r.jsx)("br",{}),"\r\nGit and other SCM tools (SVN) are typically installed on a server dedicated for SCM. However, if you have Git and SCM (SVN) installed on two separate servers, restart Jboss on the TeamForge Application Server and reinitialize TeamForge on the SCM Server (SVN server) as discussed earlier. In addition, you must also restart TeamForge on the Git Server.",(0,r.jsx)("br",{})]}),"\n",(0,r.jsxs)(n.p,{children:["Restart TeamForge on the Git Server: ",(0,r.jsx)(n.code,{children:"teamforge restart"})]}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}var h=s(66302),p=s(31843);const x={description:"Distributed setup with TeamForge, Database (including Datamart), Review Board, SCM (Subversion and Git), Code Search and Baseline installed on separate servers.",id:"distributed_install_rhel_centos",keywords:["multihost","distributed installation"],lastUpdatedAt:"Aug 6, 2020",product:"teamforge",tags:["ctf_20.2","ctf_20.0","ctf_19.3","ctf_19.1","ctf_19.0","ctf_18.3","installation"],title:"Install TeamForge in a Distributed Setup"},j=void 0,m={id:"installpages/distributed_install_rhel_centos",title:"Install TeamForge in a Distributed Setup",description:"Distributed setup with TeamForge, Database (including Datamart), Review Board, SCM (Subversion and Git), Code Search and Baseline installed on separate servers.",source:"@site/versioned_docs/version-23.1/installpages/distributed_install_rhel_centos.md",sourceDirName:"installpages",slug:"/installpages/distributed_install_rhel_centos",permalink:"/teamforge/docs/installpages/distributed_install_rhel_centos",draft:!1,unlisted:!1,tags:[{inline:!0,label:"ctf_20.2",permalink:"/teamforge/docs/tags/ctf-20-2"},{inline:!0,label:"ctf_20.0",permalink:"/teamforge/docs/tags/ctf-20-0"},{inline:!0,label:"ctf_19.3",permalink:"/teamforge/docs/tags/ctf-19-3"},{inline:!0,label:"ctf_19.1",permalink:"/teamforge/docs/tags/ctf-19-1"},{inline:!0,label:"ctf_19.0",permalink:"/teamforge/docs/tags/ctf-19-0"},{inline:!0,label:"ctf_18.3",permalink:"/teamforge/docs/tags/ctf-18-3"},{inline:!0,label:"installation",permalink:"/teamforge/docs/tags/installation"}],version:"23.1",lastUpdatedAt:1721042912e3,frontMatter:{description:"Distributed setup with TeamForge, Database (including Datamart), Review Board, SCM (Subversion and Git), Code Search and Baseline installed on separate servers.",id:"distributed_install_rhel_centos",keywords:["multihost","distributed installation"],lastUpdatedAt:"Aug 6, 2020",product:"teamforge",tags:["ctf_20.2","ctf_20.0","ctf_19.3","ctf_19.1","ctf_19.0","ctf_18.3","installation"],title:"Install TeamForge in a Distributed Setup"},sidebar:"docs",previous:{title:"Single Server Installation",permalink:"/teamforge/docs/installpages/allinoneserver_rhel_centos"},next:{title:"TeamForge with Oracle",permalink:"/teamforge/docs/installpages/install_teamforge_with_oracle"}},u={},g=[{value:"Prepare the Servers for TeamForge Installation (server-01 through server-06)",id:"prepare-the-servers-for-teamforge-installation-server-01-through-server-06",level:2},{value:"Install TeamForge Services",id:"install-teamforge-services",level:2},{value:"Set up Your Site&#39;s Master Configuration File",id:"set-up-your-sites-master-configuration-file",level:2},{value:"host Token",id:"host-token",level:3},{value:"host Token",id:"host-token-1",level:3},{value:"Provision Services on All the Servers",id:"provision-services-on-all-the-servers",level:2},...l.RM,{value:"Provisioning Sequence without Baseline",id:"provisioning-sequence-without-baseline",level:3},{value:"Provisioning Sequence with Baseline",id:"provisioning-sequence-with-baseline",level:3},{value:"Reinitialize TeamForge",id:"reinitialize-teamforge",level:2},{value:"Verify TeamForge Installation",id:"verify-teamforge-installation",level:2},...h.RM,...p.RM];function f(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",section:"section",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:s(75905).A+"",width:"22",height:"22"})," In this ",(0,r.jsx)(n.a,{href:"../installpages/plan_your_installation_upgrade#singleordistributed",children:"distributed setup"}),", ",(0,r.jsx)(n.a,{href:"../installpages/plan_your_installation_upgrade#teamforgeservices",children:"TeamForge services"})," are distributed across six servers, server-01 through server-06 as illustrated in the following table.",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(n.img,{src:s(75905).A+"",width:"22",height:"22"})," You can install TeamForge on both RHEL 8.8 and RHEL/CentOS 7.9. In this distributed setup, all the following services are installed on RHEL 8.8 servers."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"server-01"}),(0,r.jsx)(n.th,{children:"server-02"}),(0,r.jsx)(n.th,{children:"server-03"}),(0,r.jsx)(n.th,{children:"server-04"}),(0,r.jsx)(n.th,{children:"server-05"}),(0,r.jsx)(n.th,{children:"server-06"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TeamForge Application Server"}),(0,r.jsx)(n.td,{children:"TeamForge Database Server"}),(0,r.jsx)(n.td,{children:"Review Board Server"}),(0,r.jsx)(n.td,{children:"SCM Server"}),(0,r.jsx)(n.td,{children:"Code Search Server"}),(0,r.jsx)(n.td,{children:"Baseline Server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctfcore"}),(0,r.jsx)(n.td,{children:"ctfcore-database"}),(0,r.jsxs)(n.td,{children:["reviewboard",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),(0,r.jsx)(n.td,{children:"subversion"}),(0,r.jsx)(n.td,{children:"codesearch"}),(0,r.jsxs)(n.td,{children:["baseline",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-2",id:"user-content-fnref-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mail"}),(0,r.jsx)(n.td,{children:"ctfcore-datamart"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"gerrit"}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["baseline-post-install",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-3",id:"user-content-fnref-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"etl"}),(0,r.jsx)(n.td,{children:"gerrit-database"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"baseline-database"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"search"}),(0,r.jsx)(n.td,{children:"binary-database"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["reviewboard-adapter",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-4",id:"user-content-fnref-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"4"})})]}),(0,r.jsx)(n.td,{children:"reviewboard-database"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"binary"}),(0,r.jsx)(n.td,{children:"webr-database"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"cliserver"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"webr"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"service-monitor"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(a.A,{}),"\n",(0,r.jsx)(n.h2,{id:"prepare-the-servers-for-teamforge-installation-server-01-through-server-06",children:"Prepare the Servers for TeamForge Installation (server-01 through server-06)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install RHEL 8.8 and log on as root."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:s(75905).A+"",width:"22",height:"22"})," The host must be registered with the Red Hat Network if you are using Red Hat Enterprise Linux.",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(n.img,{src:s(75905).A+"",width:"22",height:"22"})," See the ",(0,r.jsx)(n.a,{href:"http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/index.html",children:"RHEL 8.8 Installation Guide"})," for help."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Check your networking setup. See ",(0,r.jsx)(n.a,{href:"../setupnetworking",children:"Set up Networking"})," for more information."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(o.A,{}),"\n",(0,r.jsx)(n.h2,{id:"install-teamforge-services",children:"Install TeamForge Services"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install the TeamForge application packages on the TeamForge Application Server (server-01)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum install teamforge\n"})}),"\n",(0,r.jsx)(n.p,{children:"Install Monit."}),"\n",(0,r.jsxs)(n.admonition,{type:"important",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["If you haven't already installed the latest version of the Monit application, download it ",(0,r.jsx)(n.a,{href:"https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/monit-5.30.0-1.el7.x86_64.rpm",children:"here"}),".)"]})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Download Monit for"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"RHEL 8.x from the EPEL repository."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\r\nrpm -ivh epel-release-latest-8.noarch.rpm\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"RHEL/CentOS 7.x from the EPEL repository."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\r\nrpm -ivh epel-release-latest-7.noarch.rpm\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install Monit."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"yum install monit\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Install the Baseline packages on the TeamForge Application Server (server-01), if you are installing TeamForge Baseline."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum install teamforge-baseline\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install the database packages and the Baseline packages on the TeamForge Database Server (server-02) based on the following conditions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On sites without TeamForge Baseline, run this command to install the database packages on the TeamForge Database server (server-02)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"yum install teamforge-database\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On sites with TeamForge Baseline, if you're installing TeamForge Baseline on a separate server (server-07), run this command to install both the Baseline packages and the database packages on the TeamForge Database server (server-02)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"yum install teamforge-baseline\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install Review Board packages on the Review Board Server (server-03)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum install teamforge\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install SCM packages on the SCM Server (server-04)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum install teamforge-scm teamforge-git\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install the Code Search packages on the Code Search Server (server-05)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum install teamforge-codesearch\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install the Baseline packages on the Baseline Server (server-06)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum install teamforge-baseline\n"})}),"\n",(0,r.jsx)(n.p,{children:"Install Monit."}),"\n",(0,r.jsx)(n.admonition,{type:"important",children:(0,r.jsxs)(n.p,{children:["If you haven't already installed the latest version of the Monit application, download it ",(0,r.jsx)(n.a,{href:"https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/monit-5.30.0-1.el7.x86_64.rpm",children:"here"}),"."]})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Download Monit for"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RHEL 8.x from the EPEL repository."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\r\nrpm -ivh epel-release-latest-8.noarch.rpm\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RHEL/CentOS 7.x from the EPEL repository."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\r\nrpm -ivh epel-release-latest-7.noarch.rpm\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install Monit."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"yum install monit\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"set-up-your-sites-master-configuration-file",children:"Set up Your Site's Master Configuration File"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Do this on the TeamForge Database Server (server-02)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"vi /opt/collabnet/teamforge/etc/site-options.conf\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"host-token",children:["host",":SERVICES"," Token"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"server-01:SERVICES=ctfcore service-monitor search mail etl binary reviewboard-adapter cliserver webr \r\nserver-02:SERVICES=ctfcore-database ctfcore-datamart gerrit-database binary-database reviewboard-database webr-database\r\nserver-03:SERVICES=reviewboard\r\nserver-04:SERVICES=subversion gerrit\r\nserver-05:SERVICES=codesearch\r\nserver-06:SERVICES=baseline baseline-post-install baseline-database service-monitor\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"host-token-1",children:["host",":PUBLIC_FQDN"," Token"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"server-01:PUBLIC_FQDN=my.app.domain.com\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Save the ",(0,r.jsx)(n.code,{children:"site-options.conf"})," file."]}),"\n",(0,r.jsxs)(n.p,{children:["For further customization of your site configuration (SSL settings, password policy settings, PostgreSQL settings, LDAP settings and so on): ",(0,r.jsx)(t.A,{}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Provision the Database Server (server-02)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"teamforge provision\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Copy the ",(0,r.jsx)(n.code,{children:"/opt/collabnet/teamforge/etc/site-options.conf"})," file from the TeamForge Database Server (server-02) to the ",(0,r.jsx)(n.code,{children:"/opt/collabnet/teamforge/etc/"})," directory of all other servers."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"provision-services-on-all-the-servers",children:"Provision Services on All the Servers"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(l.Ay,{}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:s(75905).A+"",width:"22",height:"22"})," You must provision services in a particluar sequence. Usually you start with the Database Server, followed by the Application Server and then by other servers such as SCM, Review Board and Code Search servers.",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(n.img,{src:s(75905).A+"",width:"22",height:"22"})," The TeamForge installer derives this sequence from your ",(0,r.jsx)(n.code,{children:"site-options.conf"})," file and shows you the order of provisioning servers when you try to provision one of++ the distributed servers. Follow the exact sequence as instructed."]}),"\n",(0,r.jsx)(n.h3,{id:"provisioning-sequence-without-baseline",children:"Provisioning Sequence without Baseline"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Provision the Application Server (server-01)."}),"\n",(0,r.jsx)(n.li,{children:"Provision the SCM server (server-04)."}),"\n",(0,r.jsx)(n.li,{children:"Provision the Review Board Server (server-03)."}),"\n",(0,r.jsx)(n.li,{children:"Provision the Code Search Server (server-05)."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"provisioning-sequence-with-baseline",children:"Provisioning Sequence with Baseline"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Provision the Application Server (server-01)."}),"\n",(0,r.jsx)(n.li,{children:"Provision the Baseline Server (server-06)."}),"\n",(0,r.jsxs)(n.li,{children:["Copy the ",(0,r.jsx)(n.code,{children:"/opt/collabnet/teamforge/etc/site-options.conf"})," file from the TeamForge Baseline Server (server-06) to the ",(0,r.jsx)(n.code,{children:"/opt/collabnet/teamforge/etc/"})," directory of all other servers."]}),"\n",(0,r.jsx)(n.li,{children:"Provision the Database Server (server-02) again."}),"\n",(0,r.jsx)(n.li,{children:"Provision the Application Server (server-01) again."}),"\n",(0,r.jsx)(n.li,{children:"Provision the SCM server (server-04)."}),"\n",(0,r.jsx)(n.li,{children:"Provision the Review Board Server (server-03)."}),"\n",(0,r.jsx)(n.li,{children:"Provision the Code Search Server (server-05)."}),"\n"]}),"\n",(0,r.jsx)(c,{}),"\n",(0,r.jsx)(n.h2,{id:"verify-teamforge-installation",children:"Verify TeamForge Installation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(h.Ay,{}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(p.Ay,{}),"\n","\n",(0,r.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,r.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{id:"user-content-fn-1",children:["\n",(0,r.jsxs)(n.p,{children:["TeamForge 23.1 supports Review Board 4.0.6 on RHEL 8.8 and Review Board 4.0.6 on RHEL/CentOS 7.9. ",(0,r.jsx)(n.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-2",children:["\n",(0,r.jsxs)(n.p,{children:["It's highly recommended that you install the ",(0,r.jsx)(n.a,{href:"../BaselinePages/baseline-overview",children:"TeamForge Baseline"})," services on a separate server as the baselining process can consume considerable CPU and database resources. ",(0,r.jsx)(n.a,{href:"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-3",children:["\n",(0,r.jsxs)(n.p,{children:["Synchronizes the user information between the baseline database and TeamForge database. ",(0,r.jsx)(n.a,{href:"#user-content-fnref-3","data-footnote-backref":"","aria-label":"Back to reference 3",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-4",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"reviewboard-adapter"})," must always be installed on the TeamForge Application Server. ",(0,r.jsx)(n.a,{href:"#user-content-fnref-4","data-footnote-backref":"","aria-label":"Back to reference 4",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function v(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},40224:(e,n,s)=>{s.d(n,{A:()=>l});var r=s(63696),i=s(62540),t=s(43023);function a(e){const n={a:"a",code:"code",li:"li",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsx)("div",{class:"",id:"beforeYouBegin",children:(0,i.jsxs)("div",{markdown:"1",children:[(0,i.jsx)("h3",{children:"Dos"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Understand ",(0,i.jsx)(n.a,{href:"../installpages/requirements",children:"TeamForge installation requirements"})," and ",(0,i.jsx)(n.a,{href:"../installpages/plan_your_installation_upgrade",children:"plan your installation or upgrade"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Get your ",(0,i.jsx)(n.a,{href:"../teamforgelicense",children:"TeamForge license"})," key and keep it handy."]}),"\n",(0,i.jsxs)(n.li,{children:["Verify your basic networking setup before installing or upgrading TeamForge. See ",(0,i.jsx)(n.a,{href:"../setupnetworking",children:"Set Up Networking for TeamForge"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Look for new or modified ",(0,i.jsx)(n.code,{children:"site-options.conf"})," tokens and update your ",(0,i.jsx)(n.code,{children:"site-options.conf"})," file as required during the upgrade process. See ",(0,i.jsx)(n.a,{href:"../release-notes/siteoptionschangelog",children:"Site Options Change Log"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Set up a TeamForge Stage Server before you upgrade your Production Server."}),"\n",(0,i.jsx)(n.li,{children:"Stop TeamForge services on all servers in a distributed setup while upgrading to TeamForge 24.0."}),"\n",(0,i.jsx)(n.li,{children:"Uninstall hot fixes and add-ons, if any, before you start the TeamForge 24.0 upgrade procedure."}),"\n",(0,i.jsxs)(n.li,{children:["s a result of changes to the logging framework in Java 9, the ",(0,i.jsx)(n.code,{children:"PrintGCDetails"})," and ",(0,i.jsx)(n.code,{children:"PrintGCTimeStamps"})," logging options are no longer supported. Remove these options from the following tokens while upgrading to TeamForge 18.1 or later. TeamForge provision fails otherwise.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"JBOSS_JAVA_OPTS"}),"\n",(0,i.jsx)(n.li,{children:"PHOENIX_JAVA_OPTS"}),"\n",(0,i.jsx)(n.li,{children:"INTEGRATION_JAVA_OPTS"}),"\n",(0,i.jsx)(n.li,{children:"ETL_JAVA_OPTS"}),"\n",(0,i.jsx)(n.li,{children:"ELASTICSEARCH_JAVA_OPTS"}),"\n"]}),"\n"]}),"\n"]}),(0,i.jsx)("h3",{children:"Don'ts"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Do not customize your operating system installation. Select only the default packages list."}),"\n",(0,i.jsxs)(n.li,{children:["While upgrading TeamForge, whether in place or on new hardware, always reuse the old ",(0,i.jsx)(n.code,{children:"site-options.conf"})," file and make changes as necessary. ",(0,i.jsx)(n.strong,{children:"Do not"})," try to start with a new ",(0,i.jsx)(n.code,{children:"site-options.conf"})," file. Reusing the old ",(0,i.jsx)(n.code,{children:"site-options.conf"})," avoids many potential problems, particularly around the management of usernames and passwords."]}),"\n",(0,i.jsxs)(n.li,{children:["Do not manually modify TeamForge-managed site option tokens such as the ",(0,i.jsx)(n.code,{children:"AUTO_DATA"})," token. See [AUTO_DATA][siteoptiontokens.html#auto_data] for more information."]}),"\n",(0,i.jsxs)(n.li,{children:["f you are creating symlinks, note that you must create symlinks only to the TeamForge data directory (",(0,i.jsx)(n.code,{children:"/opt/collabnet/teamforge/var"}),"). You should not create symlinks to TeamForge application directories (such as ",(0,i.jsx)(n.code,{children:"/opt/collabnet"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["o not upgrade the following libraries while applying regular OS security patches as TeamForge uses these libraries:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Python"}),"\n",(0,i.jsx)(n.li,{children:"Java"}),"\n",(0,i.jsx)(n.li,{children:"Postgres"}),"\n",(0,i.jsx)(n.li,{children:"Apache"}),"\n"]}),"\n"]}),"\n"]}),(0,i.jsx)("h3",{children:"Points to Remember"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Installing or upgrading TeamForge needs root privileges. You must log on as root or use a root shell to install or upgrade TeamForge."}),"\n",(0,i.jsxs)(n.li,{children:["SSL is enabled by default and a self-signed certificate is auto-generated. However, you can use a few ",(0,i.jsx)(n.code,{children:"site-options.conf"})," tokens to adjust this behavior. To generate the SSL certificates, see ",(0,i.jsx)(n.a,{href:"../generatesslcerts",children:"Generate SSL Certificates"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"For the ETL service to run as expected in a distributed TeamForge installation, all servers must have the same time zone."}),"\n",(0,i.jsx)(n.li,{children:"If you have Git integration on a separate server, both TeamForge and Git servers must have their time and date synchronized. Similarly, if Subversion is on a separate server, both TeamForge and Subversion servers must have their time and date synchronized."}),"\n"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["It's highly recommended that you install the ",(0,i.jsx)(n.a,{href:"../baseline-overview",children:"TeamForge Baseline"})," services on a separate server as the baselining process can consume considerable CPU and database resources. For more information, see ",(0,i.jsx)(n.a,{href:"../installpages/distributed_install_rhel_centos",children:"Install TeamForge in a Distributed Setup"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"No backup is required for same hardware upgrades. However, you can create a backup as a measure of caution. See [Back up and Restore TeamForge][backupandrestore] for more information."}),"\n",(0,i.jsxs)(n.li,{children:["Always use compatible JDBC drivers meant for specific database versions. See ",(0,i.jsx)(n.a,{href:"https://help.pentaho.com/Documentation/5.2/0D0/160/010",children:"JDBC Drivers Reference"})," for more information. Also see: ",(0,i.jsx)(n.a,{href:"../FAQPages/database-faqs#etl_fails_post_upgrade",children:"Why do ETL jobs fail post TeamForge upgrade?"})]}),"\n",(0,i.jsxs)(n.li,{children:["You can run the initial load job any time after the installation of TeamForge. We recommend that you run it before you hand over the site to the users. For more information, see ",(0,i.jsx)(n.a,{href:"../FAQPages/database-faqs.html#etl_initial_load_jobs",children:"ETL Initial Load Jobs"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"SOAP50 APIs and event handlers are no longer supported in TeamForge 16.10 and later. Use the latest TeamForge SOAP/REST APIs."}),"\n",(0,i.jsxs)(n.li,{children:["TeamForge 24.0 installer expects the system locale to be ",(0,i.jsx)(n.code,{children:"LANG=en_US.UTF-8"}),". TeamForge create runtime (",(0,i.jsx)(n.code,{children:"teamforge provision"}),") fails otherwise."]}),"\n",(0,i.jsxs)(n.li,{children:["Installing TeamForge with service-specific FQDNs (instead of machine-specific host/domain names) is highly recommended so that you will be able to change the system landscape at a later point in time without having any impact on the URLs (in other words, end users do not have to notice or change anything). For example, you can create FQDNs specifically for services such as Subversion, Git, mail, Codesearch and so on. For more information, see ",(0,i.jsx)(n.a,{href:"../siteconfigtokens",children:"Service-specific FQDNs"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"All such service-specific FQDNs must belong to a single sub domain and it is recommended to create a new sub domain for TeamForge."}),"\n",(0,i.jsxs)(n.li,{children:["If you are using service-specific FQDNs","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A wildcard SSL cert is required. SNI SSL cert cannot be used."}),"\n",(0,i.jsx)(n.li,{children:"When SSL is enabled and no custom SSL certificates are provided, a self-signed wildcard cert is generated for the sub domain."}),"\n",(0,i.jsx)(n.li,{children:"When SSL is enabled and a custom SSL certificate is provided, the CN of the certificate is verified to be a wildcard CN."}),"\n"]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The ability to run separate PostgreSQL instances for TeamForge database and datamart on the same server is being deprecated in TeamForge 17.11. If you have TeamForge database and datamart on separate PostgreSQL instances on the same server and if you are upgrading on a new hardware, you must [Create a Single Cluster for Both Database and Datamart][movedbdmintoonepginstance] while upgrading to TeamForge 17.11 or later."}),"\n",(0,i.jsx)(n.li,{children:"While upgrading TeamForge-Git integration servers, it is important that Git master and slave servers are upgraded to the same version of TeamForge-Git integration. On sites with Git Replica Servers, you must upgrade the Git Replica Servers first and then upgrade the master Git servers."}),"\n"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["From TeamForge 19.3, TeamForge Webhooks-based Event Broker is installed automatically when you install/upgrade TeamForge. In other words, you don't have to run the command ",(0,i.jsx)(n.code,{children:"yum install teamforge-webr"})," separately."]}),"\n",(0,i.jsx)(n.li,{children:"Call back URLs registered with WEBR are lost when you restart WEBR. This means, a TeamForge/Jboss restart must follow immediately after you stop or restart WEBR."}),"\n",(0,i.jsxs)(n.li,{children:["TeamForge supports ",(0,i.jsx)(n.a,{href:"https://mmonit.com/monit/",children:"Monit"})," for monitoring services and recovering failed services. Monit is installed on the TeamForge Application server to monitor the health of services and restart the services when they fail. Monit log file is located at ",(0,i.jsx)(n.code,{children:"/opt/collabnet/teamforge/log/monit/monit.log"}),"."]}),"\n"]})]})})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}function l(e){let{children:n}=e;const[s,t]=(0,r.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Here's a list of dos, don'ts and points to remember when you install or upgrade TeamForge."}),(0,i.jsx)("button",{type:"button",className:"btn btn-primary btn-xs light-blue-bg","data-toggle":"collapse",href:"#beforeYouBegin","aria-expanded":"false","aria-controls":"beforeYouBegin",onClick:()=>t((e=>!e)),children:"Click to Show/Hide"}),s&&(0,i.jsx)(o,{})]})}},33430:(e,n,s)=>{s.d(n,{A:()=>l});var r=s(63696),i=s(62540),t=s(43023);function a(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"TeamForge Installation Repository Configuration for Sites with Internet Access"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Contact the ",(0,i.jsx)(n.a,{href:"https://support.digital.ai",children:"Digital.ai Support"})," and download the TeamForge 24.0 installation repository package to ",(0,i.jsx)(n.code,{children:"/tmp"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Install the repository package.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y /tmp/collabnet-teamforge-repo-23.1-0-noarch.rpm\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Refresh your repository cache.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum clean all\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("h3",{children:"TeamForge Installation Repository Configuration for Sites without Internet Access"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Contact the ",(0,i.jsx)(n.a,{href:"https://support.digital.ai",children:"Digital.ai Support"})," to get the auxiliary installer package for TeamForge 24.0 disconnected installation and save it in ",(0,i.jsx)(n.code,{children:"/tmp"}),".","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["RHEL 8.8 64 bit: ",(0,i.jsx)(n.code,{children:"CTF-Disconnected-media-23.1.355-462.rhel8.x86_64.rpm"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Unpack the disconnected installation package.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm -ivh <package-name>\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If not mounted already, mount the RHEL/CentOS installation DVD."}),"\n",(0,i.jsx)(n.p,{children:'The DVD contains the necessary software and utilities required for installing TeamForge without internet access. In the following commands, replace "cdrom" with the identifier for your server\'s CD/DVD drive, if necessary.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd /media/\r\nmkdir cdrom\r\nmount /dev/cdrom ./cdrom/\n"})}),"\n",(0,i.jsx)(n.p,{children:"If there are any spaces in the automount, unmount it first and mount it as a filepath, with no spaces."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create a yum configuration file that points to the RHEL/CentOS installation DVD."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"vi /etc/yum.repos.d/cdrom.repo\n"})}),"\n",(0,i.jsx)(n.p,{children:"Here's a sample yum configuration file."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"[RHEL-CDROM]\r\nname=RHEL CDRom \t\t\t\r\nbaseurl=file:///media/cdrom/Server/\r\ngpgfile=file:///media/cdrom/RPM-GPG-KEY-redhat-release \r\nenabled=1\r\ngpgcheck=0\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Verify your yum configuration files."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum list httpd\r\nyum list apr\n"})}),"\n"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}function l(e){let{children:n}=e;const[s,t]=(0,r.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary btn-xs light-blue-bg","data-toggle":"collapse",href:"#beforeYouBegin","aria-expanded":"false","aria-controls":"beforeYouBegin",onClick:()=>t((e=>!e)),children:"Configure the TeamForge installation repository"}),s&&(0,i.jsx)(o,{})]})}},5163:(e,n,s)=>{s.d(n,{A:()=>l});var r=s(63696),i=s(62540),t=s(43023);function a(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)("h3",{markdown:"1",children:"SSL Tokens"}),"\r\nSSL is enabled by default and a self-signed certificate is auto-generated. Use the following tokens to adjust this behavior."]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["TeamForge runs only with SSL from TeamForge 19.2. Hence the ",(0,i.jsx)(n.code,{children:"site-options.conf"})," token option ",(0,i.jsx)(n.code,{children:"SSL=off"})," is not supported any more. TeamForge provision fails and throws an error, if ",(0,i.jsx)(n.code,{children:"SSL"})," is set to ",(0,i.jsx)(n.code,{children:"off"}),'."']})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"SSL_CERT_FILE=\r\nSSL_KEY_FILE=\r\nSSL_CHAIN_FILE=\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["To generate the SSL certificates, see ",(0,i.jsx)(n.a,{href:"../generatesslcerts",children:"Generate SSL certificates"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Have the custom SSL certificate and private key for custom SSL certificate in place and provide their absolute paths in these tokens. SSL_CHAIN_FILE (intermediate certificate) is optional."}),"\n",(0,i.jsxs)(n.li,{children:["You can also encrypt the data traffic between the application and database servers and between the ETL and datamart servers in a distributed setup. Use the ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#DATABASE_SSL",children:"DATABASE_SSL"})," token to do that. See ",(0,i.jsx)(n.a,{href:"../sslforintegrations#databasessl",children:"Encrypt Database Network Traffic"}),"."]}),"\n"]}),"\n",(0,i.jsx)("h3",{markdown:"1",children:"Password Tokens"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["TeamForge 7.1 and later support automatic password creation. See ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#auto_data",children:"AUTO_DATA"})," for more information."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Set the [REQUIRE_PASSWORD_SECURITY](../siteoptiontokens#REQUIRE_PASSWORD_SECURITY] token to ",(0,i.jsx)(n.code,{children:"true"})," to enforce password security policy for the site."]}),"\n",(0,i.jsxs)(n.p,{children:["If the token ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_PASSWORD_SECURITY",children:"REQUIRE_PASSWORD_SECURITY"})," is enabled, then set a value for the token, ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_CONTROL_EFFECTIVE_DATE",children:"PASSWORD_CONTROL_EFFECTIVE_DATE"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["The Password Control Kit (PCK) disables, deletes or expires user accounts that don't meet the password security requirements starting from the date set for the ",(0,i.jsx)(n.code,{children:"PASSWORD_CONTROL_EFFECTIVE_DATE"})," token. If a date is not set, the PCK disables, deletes or expires user accounts immediately. See ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_CONTROL_EFFECTIVE_DATE",children:"PASSWORD_CONTROL_EFFECTIVE_DATE"}),' for more information."']})]}),"\n",(0,i.jsx)(n.p,{children:"You can also set the following tokens to enforce a more stricter password policy:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#MINIMUM_PASSWORD_LENGTH",children:"MINIMUM_PASSWORD_LENGTH"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#MAX_PASSWORD_LENGTH",children:"MAX_PASSWORD_LENGTH"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_REQUIRES_NUMBER",children:"PASSWORD_REQUIRES_NUMBER"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_REQUIRES_NON_ALPHANUM",children:"PASSWORD_REQUIRES_NON_ALPHANUM"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_REQUIRES_MIXED_CASE",children:"PASSWORD_REQUIRES_MIXED_CASE"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_PASSWORD_SECURITY",children:"REQUIRE_PASSWORD_SECURITY"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#LOGIN_ATTEMPT_LOCK",children:"LOGIN_ATTEMPT_LOCK"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_HISTORY_AGE",children:"PASSWORD_HISTORY_AGE"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../siteoptiontokens#ALLOW_PASSWORD_DICTIONARY_WORD",children:"ALLOW_PASSWORD_DICTIONARY_WORD"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If the token ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#require_random_admin_password",children:"REQUIRE_RANDOM_ADMIN_PASSWORD"})," is already set to ",(0,i.jsx)(n.code,{children:"true"}),", then set the token ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#admin_email",children:"ADMIN_EMAIL"})," with a valid email address."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ADMIN_EMAIL=root@{__APPLICATION_HOST__}\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If you have LDAP set up for external authentication, you must set the ",(0,i.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_USER_PASSWORD_CHANGE",children:"REQUIRE_USER_PASSWORD_CHANGE"})," site options token to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("h3",{markdown:"1",children:"Prevent Cross-site Scripting"}),"\r\nAn attacker could potentially upload an HTML page to TeamForge that contains active code, such as JavaScript. This active code would then be executed by clients' browsers when they view the page, which can harm the system."]}),"\n",(0,i.jsx)(n.p,{children:"To prevent an attack of this sort, you can specify whether or not HTML code is displayed in TeamForge. This flag applies to all documents, tracker, task, and forum attachments, and files in the file release system."}),"\n",(0,i.jsx)(n.p,{children:"Set the SAFE_DOWNLOAD_MODE token according to your requirements. For more information, see [SAFE_DOWNLOAD_MODE](../siteoptiontokens#SAFE_DOWNLOAD_MODE]."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("h3",{children:"PostgreSQL Tokens and Settings"}),"\r\nMake sure the PostgreSQL tokens in the ",(0,i.jsx)(n.code,{children:"site-options.conf"})," file are set as recommended in the following topic: ",(0,i.jsx)(n.a,{href:"../FAQPages/database-faqs#postgres_settings",children:"What are the right PostgreSQL settings for my site?"})]}),"\n",(0,i.jsxs)("h4",{markdown:"1",children:["Save the ",(0,i.jsx)(n.code,{children:"site-options.conf"})," file."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}function l(e){let{children:n}=e;const[s,t]=(0,r.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary btn-xs light-blue-bg","data-toggle":"collapse",href:"#beforeYouBegin","aria-expanded":"false","aria-controls":"beforeYouBegin",onClick:()=>t((e=>!e)),children:"Site options configuration contd.."}),s&&(0,i.jsx)(o,{})]})}},75905:(e,n,s)=>{s.d(n,{A:()=>r});const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExQTk2MURCMzQ1QTg3OTcyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozQ0IzQzI5Qjg2NTYxMUUxQjU1NkZCQ0RDQTk1MEE3NCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozQ0IzQzI5QTg2NTYxMUUxQjU1NkZCQ0RDQTk1MEE3NCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDQzBDNjg4MTkyMDY4MTE4REJCODA3RUZEMkZCNzcxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAxODAxMTc0MDcyMDY4MTFBOTYxREIzNDVBODc5NzI5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gwrFywAAAehJREFUeNpi/P//PwMtABMDjcDQM5gFXYCRkZEU/cxPnz5LBjGkpaXmAqm/OA0mxdAbN25mTn+yeDKIA2SzaWioT4cZzkSJoQvfrJ+89f5+BhC+9P/W5JUrV2qDPE2uwWBD5z5bN3nj7f0MP7//Z3AVd2D4fur9pPDw8DeEDGa6evWq+b1nDw8DXSEOUwwzdOaDdZPX3dgHNPQfg4e0A4PcVZ758fFxy4Hy34D4Py6DmY4ePWZ57PO13T7r8myEtGX2L1q0GGQ4C8jQKbfXTl5zbS/Drx//GbzkHRmUbvHOz8nJmQOUvwPEn2EGM6LnPGCq4Dx/88rmkK2Vzp9+fmXgY+NmKDGNuWEnrLNy8q0N9Wtv7AWrC9F0ZtB+wg8z9BYQv0dOFdgM5rW0tDQv622Yn39ossynH1/A4hayugwnHl8Gs8N0XBj0XgjgNBSXwexASkZbW9uiaWZvZ/beidIff3yFy0fouTAYvxXCaygYgAxGxtCI4gRiVS0trZjVh3c8Eary+M9cZPM/dnHj/ylTpswDylkBsQgoMnGmHSwGYxp+cPuTnBU9xBuKx2AUw3V0dCK6u3t6iDYURxijG84BNQxEvwPiD1jDlESDYYYzQ9P8X2IMJbYQAtn8h9R8zzhaNcEAQIABAPHG9uJTK4WgAAAAAElFTkSuQmCC"},43023:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var r=s(63696);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);
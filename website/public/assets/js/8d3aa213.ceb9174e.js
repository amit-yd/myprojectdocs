"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5706],{16010:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>a});var s=r(62540),t=r(43023);const a=[];function i(e){const n={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Provision services."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"teamforge provision\n"})}),"\n",(0,s.jsxs)(n.p,{children:["TeamForge 23.1 installer expects the system locale to be ",(0,s.jsx)(n.code,{children:"LANG=en_US.UTF-8"}),". TeamForge create runtime (",(0,s.jsx)(n.code,{children:"teamforge provision"}),") fails otherwise."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},31843:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>a});var s=r(62540),t=r(43023);const a=[{value:"Post Install Tasks",id:"post-install-tasks",level:2},{value:"Also See...",id:"also-see",level:4}];function i(e){const n={a:"a",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"post-install-tasks",children:"Post Install Tasks"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../teamforgelicense",children:"Supply Your TeamForge License Key"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"../setupselinux",children:["Run TeamForge in SELinux ",(0,s.jsx)(n.code,{children:"enabled"})," Mode"]})}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Integrate ",(0,s.jsx)(n.a,{href:"../WEBRPages/teamforge-jenkins-integration",children:"Jenkins"}),", ",(0,s.jsx)(n.a,{href:"../WEBRPages/teamforge-jira-integration",children:"JIRA"}),", and ",(0,s.jsx)(n.a,{href:"../WEBRPages/teamforge-testlink-integration",children:"TestLink"})," using the TeamForge Webhooks-based Event Broker"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../FAQPages/reviewboard-faqs#rbemailsettings",children:"Users are not getting email notifications for review requests and reviews. What should I do?"})}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../FAQPages/reviewboard-faqs.html#cert-verification-cfg",children:"Review Board deployment fails on sites that use a self-signed certificate. What should I do?"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"also-see",children:"Also See..."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"../FAQPages/installupgradeadmin-faqs",children:"FAQs on Install / Upgrade / Administration"})})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},66302:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>a});var s=r(62540),t=r(43023);const a=[];function i(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Verify TeamForge installation."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Reboot the server and make sure all services come up automatically at startup."}),"\n",(0,s.jsxs)(n.li,{children:["Log on to the TeamForge web application using the default Admin credentials.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Username: ",(0,s.jsx)(n.code,{children:"admin"})]}),"\n",(0,s.jsxs)(n.li,{children:["Password: ",(0,s.jsx)(n.code,{children:"admin"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Create a sample project. See ",(0,s.jsx)(n.a,{href:"../creatingaproject",children:"Create a TeamForge Project"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Write a welcome message to your site's users. See ",(0,s.jsx)(n.a,{href:"../siteadmin-createsitewidebroadcast",children:"Create a Site-wide Broadcast"}),"."]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},69211:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>m,contentTitle:()=>p,default:()=>j,frontMatter:()=>h,metadata:()=>u,toc:()=>x});var s=r(62540),t=r(43023),a=r(33430),i=r(7907),o=r(16010),l=r(66302),c=r(31843),d=r(40224);const h={description:"Distributed setup with TeamForge and Oracle Database (including Datamart) installed on separate servers.",id:"install_teamforge_with_oracle",keywords:["multi","multihost","multi-host","distributed installation","oracle"],lastUpdatedAt:"Aug 6, 2020",product:"teamforge",tags:["ctf_20.2","ctf_20.0","ctf_19.3","ctf_19.1","ctf_19.0","installation","oracle"],title:"Install TeamForge with Oracle Database"},p=void 0,u={id:"installpages/install_teamforge_with_oracle",title:"Install TeamForge with Oracle Database",description:"Distributed setup with TeamForge and Oracle Database (including Datamart) installed on separate servers.",source:"@site/versioned_docs/version-23.1/installpages/install_teamforge_with_oracle.md",sourceDirName:"installpages",slug:"/installpages/install_teamforge_with_oracle",permalink:"/teamforge/docs/installpages/install_teamforge_with_oracle",draft:!1,unlisted:!1,tags:[{inline:!0,label:"ctf_20.2",permalink:"/teamforge/docs/tags/ctf-20-2"},{inline:!0,label:"ctf_20.0",permalink:"/teamforge/docs/tags/ctf-20-0"},{inline:!0,label:"ctf_19.3",permalink:"/teamforge/docs/tags/ctf-19-3"},{inline:!0,label:"ctf_19.1",permalink:"/teamforge/docs/tags/ctf-19-1"},{inline:!0,label:"ctf_19.0",permalink:"/teamforge/docs/tags/ctf-19-0"},{inline:!0,label:"installation",permalink:"/teamforge/docs/tags/installation"},{inline:!0,label:"oracle",permalink:"/teamforge/docs/tags/oracle"}],version:"23.1",lastUpdatedAt:1721042912e3,frontMatter:{description:"Distributed setup with TeamForge and Oracle Database (including Datamart) installed on separate servers.",id:"install_teamforge_with_oracle",keywords:["multi","multihost","multi-host","distributed installation","oracle"],lastUpdatedAt:"Aug 6, 2020",product:"teamforge",tags:["ctf_20.2","ctf_20.0","ctf_19.3","ctf_19.1","ctf_19.0","installation","oracle"],title:"Install TeamForge with Oracle Database"},sidebar:"docs",previous:{title:"Multi-host Installation",permalink:"/teamforge/docs/installpages/distributed_install_rhel_centos"},next:{title:"TeamForge with External PostgreSQL Server",permalink:"/teamforge/docs/installpages/dbdm-on-nonctfmanaged-postgresserver"}},m={},x=[{value:"Prepare the Servers for TeamForge Installation (server-01 through server-02)",id:"prepare-the-servers-for-teamforge-installation-server-01-through-server-02",level:2},{value:"Install the TeamForge Services",id:"install-the-teamforge-services",level:2},{value:"Set up the Oracle Database Server (server-02)",id:"setuporacledbserver",level:2},{value:"TeamForge Database Setup",id:"teamforge-database-setup",level:3},{value:"TeamForge Datamart Setup",id:"teamforge-datamart-setup",level:3},{value:"Set up the TeamForge Application Server (server-01)",id:"set-up-the-teamforge-application-server-server-01",level:2},{value:"host Token",id:"host-token",level:3},{value:"host Token",id:"host-token-1",level:3},{value:"Configure the Oracle Database Tokens",id:"configure-the-oracle-database-tokens",level:3},...o.RM,{value:"Verify TeamForge Installation",id:"verify-teamforge-installation",level:2},...l.RM,...c.RM];function g(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",section:"section",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Success",src:r(75905).A+"",width:"22",height:"22"})," In this ",(0,s.jsx)(n.a,{href:"../installpages/plan_your_installation_upgrade#singleordistributed",children:"distributed setup"}),", ",(0,s.jsx)(n.a,{href:"../installpages/plan_your_installation_upgrade#teamforgeservices",children:"TeamForge and Oracle database services"})," are distributed across two servers, server-01 and server-02 as illustrated in the following table.",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.img,{alt:"Success",src:r(75905).A+"",width:"22",height:"22"})," You can install TeamForge on both RHEL 8.8 and RHEL/CentOS 7.9. In this distributed setup, all the following services are installed on RHEL 8.8 servers."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.th,{children:["server-01",(0,s.jsx)("br",{}),"TeamForge Application Server"]}),(0,s.jsxs)(n.th,{children:["server-02",(0,s.jsx)("br",{}),"Database Server"]})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ctfcore"}),(0,s.jsx)(n.td,{children:"ctfcore-database"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"mail"}),(0,s.jsx)(n.td,{children:"ctfcore-datamart"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"etl"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"search"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"codesearch"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"gerrit"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"gerrit-database"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"subversion"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["reviewboard",(0,s.jsx)(n.sup,{children:(0,s.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"reviewboard-database"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["reviewboard-adapter",(0,s.jsx)(n.sup,{children:(0,s.jsx)(n.a,{href:"#user-content-fn-2",id:"user-content-fnref-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})]}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"binary"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"binary-database"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"cliserver"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"service-monitor"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsxs)(n.admonition,{type:"important",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"Baseline services are not supported in TeamForge setup with Oracle database."})]}),"\n","\n",(0,s.jsx)(d.A,{}),"\n",(0,s.jsx)(n.h2,{id:"prepare-the-servers-for-teamforge-installation-server-01-through-server-02",children:"Prepare the Servers for TeamForge Installation (server-01 through server-02)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install RHEL 8.8 and log on as root."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Success",src:r(75905).A+"",width:"22",height:"22"})," The host must be registered with the Red Hat Network if you are using Red Hat Enterprise Linux.",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.img,{alt:"Success",src:r(75905).A+"",width:"22",height:"22"})," See the ",(0,s.jsx)(n.a,{href:"http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/index.html",children:"RHEL 8.8 Installation Guide"})," for help."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Check your networking setup. See ",(0,s.jsx)(n.a,{href:"../setupnetworking",children:"Set up Networking"})," for more information."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(a.A,{}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Success",src:r(75905).A+"",width:"22",height:"22"})," You need not configure the TeamForge installation repository on the Oracle Database Server."]}),"\n",(0,s.jsx)(n.h2,{id:"install-the-teamforge-services",children:"Install the TeamForge Services"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install the TeamForge application services on the TeamForge Application Server (server-01)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yum install teamforge\n"})}),"\n",(0,s.jsx)(n.p,{children:"Install Monit."}),"\n",(0,s.jsxs)(n.admonition,{type:"important",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["If you haven't already installed the latest version of the Monit application, download it ",(0,s.jsx)(n.a,{href:"https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/monit-5.30.0-1.el7.x86_64.rpm",children:"here"}),"."]})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Download Monit for"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"RHEL 8.x from the EPEL repository."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\r\nrpm -ivh epel-release-latest-8.noarch.rpm\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"RHEL/CentOS 7.x from the EPEL repository."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\r\nrpm -ivh epel-release-latest-7.noarch.rpm\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install Monit."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"yum install monit\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install the Review Board services on the TeamForge Application Server (server-01)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yum install teamforge\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html",children:"Download"})," the corresponding version of Oracle client and run the following command on the TeamForge Application Server (server-01)."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yum localinstall <path to oracle client rpm>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setuporacledbserver",children:"Set up the Oracle Database Server (server-02)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install Oracle 19c."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Make sure your database uses UTF8 or AL32UTF8 encoding. This is needed to support users in Asian languages. See this ",(0,s.jsx)(n.a,{href:"https://docs.oracle.com/en/database/oracle/oracle-database/18/nlspg/character-set-migration.html#GUID-53A6A5B1-6F79-44AE-9205-C32D9BA6B69A",children:"Oracle knowledge base article"}),"."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Log on to the Oracle Database Server as a system administrator with ",(0,s.jsx)(n.code,{children:"SYSDG"})," privilege and run the following query."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"alter system set parallel_threads_per_cpu=4;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Log in as an Oracle user and create the site database user and permissions."}),"\n",(0,s.jsx)(n.p,{children:"To use an Oracle database for your TeamForge data, set up the Oracle database and tell the TeamForge installer how to handle it."}),"\n",(0,s.jsx)(n.h3,{id:"teamforge-database-setup",children:"TeamForge Database Setup"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Make sure your database uses UTF8 or AL32UTF8 encoding. This is needed to support users in Asian languages. See this ",(0,s.jsx)(n.a,{href:"https://docs.oracle.com/en/database/oracle/oracle-database/18/nlspg/character-set-migration.html#GUID-53A6A5B1-6F79-44AE-9205-C32D9BA6B69A",children:"Oracle knowledge base article"}),"."]})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Connect to your Oracle database.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> connect <adminusername>@<db_name>/<adminpassword> as sysdba\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Create the database user and password you will use to connect from TeamForge to Oracle.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> create user <sf user> identified by <sf passwd> default tablespace <your tablespace> temporary tablespace <temporary tablespace>;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Grant permissions to the user that you just created.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> grant unlimited tablespace to <sf user>;\r\nSQL> grant create snapshot to <sf user>;\r\nSQL> grant create cluster to <sf user>;\r\nSQL> grant create database link to <sf user>;\r\nSQL> grant create procedure to <sf user>;\r\nSQL> grant create sequence to <sf user>;\r\nSQL> grant create trigger to <sf user>;\r\nSQL> grant create type to <sf user>;\r\nSQL> grant create view to <sf user>;\r\nSQL> grant query rewrite to <sf user>;\r\nSQL> grant alter session to <sf user>;\r\nSQL> grant create table to <sf user>;\r\nSQL> grant create session to <sf user>;\r\nSQL> grant create any synonym to <sf user>;\r\nSQL> exit\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Create the database read-only user that you will use to connect from TeamForge.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> create user <database_readonly_user> identified by <database_readonly_password> default tablespace <your tablespace> temporary tablespace <temporary tablespace>;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Grant the required permissions to the read-only user that you just created.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> grant create session to <database_readonly_user>;\r\nSQL> exit\n"})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Connect to your Oracle database as."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> connect <sf user>@<db_name>/<sf passwd>\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsxs)(n.li,{children:["Grant the 'create synonym' permission on TeamForge database to the read-only user that you just created.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> begin\r\nfor i in (select table_name from user_tables) loop \r\nexecute immediate 'grant select on '|| i.table_name||' to <database_readonly_user>'; \r\nexecute immediate 'create synonym <database_readonly_user>.'||i.table_name||' for '||i.table_name||''; \r\nend loop; \r\nend;\r\n\r\nSQL> exit\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"teamforge-datamart-setup",children:"TeamForge Datamart Setup"}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["Make sure your database uses UTF8 or AL32UTF8 encoding. This is needed to support users in Asian languages. See this ",(0,s.jsx)(n.a,{href:"http://oracle.ittoolbox.com/documents/popular-q-and-a/changing-the-character-set-of-an-oracle-database-1601#",children:"Oracle knowledge base article"}),"."]})]}),"\n",(0,s.jsxs)(n.ol,{start:"8",children:["\n",(0,s.jsxs)(n.li,{children:["Connect to your Oracle database.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> connect <adminusername>@<db_name>/<adminpassword> as sysdba\n"})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Create the datamart user you will use to connect from TeamForge."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> create user <reports_database_user> identified by <reports_database_password> default tablespace <your tablespace> temporary tablespace <temporary tablespace>;\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"10",children:["\n",(0,s.jsx)(n.li,{children:"Grant permissions to the user that you just created."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> grant unlimited tablespace to <reports_database_user>;\r\nSQL> grant create snapshot to <reports_database_user>;\r\nSQL> grant create cluster to <reports_database_user>;\r\nSQL> grant create database link to <sreports_database_user>;\r\nSQL> grant create procedure to <reports_database_user>;\r\nSQL> grant create sequence to <reports_database_user>;\r\nSQL> grant create trigger to <reports_database_user>;\r\nSQL> grant create type to <reports_database_user>;\r\nSQL> grant create view to <reports_database_user>;\r\nSQL> grant query rewrite to <reports_database_user>;\r\nSQL> grant alter session to <reports_database_user>;\r\nSQL> grant create table to <reports_database_user>;\r\nSQL> grant create session to <reports_database_user>;\r\nSQL> grant create any synonym to <reports_database_user>;\r\nSQL> exit\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Replace with the datamart username specified in the site-options.conf and with the database password specified in site-options.conf."})}),"\n",(0,s.jsxs)(n.ol,{start:"11",children:["\n",(0,s.jsx)(n.li,{children:"Create the datamart read-only user that you will use to connect from TeamForge."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> create user <reports_readonly_user> identified by <reports_readonly_password> default tablespace <your tablespace> temporary tablespace <temporary tablespace>;\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"12",children:["\n",(0,s.jsx)(n.li,{children:"Grant the required permissions to the read-only user that you just created."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> grant create session to <reports_readonly_user>;\r\nSQL> exit\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"The TeamForge installer creates the tables and default values for you."})}),"\n",(0,s.jsxs)(n.ol,{start:"13",children:["\n",(0,s.jsx)(n.li,{children:"Connect to your Oracle database as."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"SQL> connect <reports_database_user>@<db_name>/<reports_database_password>\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"14",children:["\n",(0,s.jsx)(n.li,{children:"Grant the 'create synonym' permission on TeamForge datamart to the read-only user that you just created. SQL> begin"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-SQL",children:"for i in (select table_name from user_tables) loop \r\nexecute immediate 'grant select on '|| i.table_name||' to <reports_readonly_user>'; \r\nexecute immediate 'create synonym <reports_readonly_user>.'||i.table_name||' for '||i.table_name||''; \r\nend loop; \r\nend;\r\n\r\nSQL> exit\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Log on to the TeamForge Application Server and copy the Oracle Datamart setup script from ",(0,s.jsx)(n.code,{children:"/opt/collabnet/teamforge/runtime/scripts/"})," to the ",(0,s.jsx)(n.code,{children:"/tmp"})," directory of the Oracle Database Server (server-02)."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"scp /opt/collabnet/teamforge/runtime/scripts/datamart-oracle-setup.sh <username>@<server-02>:/tmp\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Copy the Oracle Datamart setup script to ",(0,s.jsx)(n.code,{children:"/u1"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"mkdir /u1\r\ncp /tmp/datamart-oracle-setup.sh /u1\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create the reporting user and schema."}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["Skip this step if you have already set up the datamart as discussed earlier. Your responses to the ",(0,s.jsx)(n.code,{children:"datamart-oracle-setup.sh"})," script's prompts must match the values of the equivalent variables of the TeamForge Application Server's ",(0,s.jsx)(n.code,{children:"site-options.conf"})," file."]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd /u1\r\nsh datamart-oracle-setup.sh\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"set-up-the-teamforge-application-server-server-01",children:"Set up the TeamForge Application Server (server-01)"}),"\n",(0,s.jsxs)(n.p,{children:["Log on to the TeamForge Application Server (server-01), set up the ",(0,s.jsx)(n.code,{children:"site-options.conf"})," file, and provision the services."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rename the sample Oracle site configuration file in the ",(0,s.jsx)(n.code,{children:"/opt/collabnet/teamforge/etc/"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd /opt/collabnet/teamforge/etc/\r\ncp site-options-oracle.conf site-options.conf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Set up your site's master configuration file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"   vi /opt/collabnet/teamforge/etc/site-options.conf\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"host-token",children:["host",":SERVICES"," Token"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"server-01:SERVICES=ctfcore service-monitor mail etl search subversion codesearch cliserver gerrit gerrit-database  binary binary-database reviewboard reviewboard-database reviewboard-adapter\r\nserver-02:SERVICES=ctfcore-database ctfcore-datamart\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"host-token-1",children:["host",":PUBLIC_FQDN"," Token"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"server-01:PUBLIC_FQDN=my.app.domain.com\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configure-the-oracle-database-tokens",children:"Configure the Oracle Database Tokens"}),"\n",(0,s.jsx)(n.p,{children:"Configure the Oracle database name, usernames and passwords as configured on the Oracle Database Server."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Database type is ",(0,s.jsx)(n.code,{children:"oracle"})," (",(0,s.jsx)(n.code,{children:"DATABASE_TYPE=oracle"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Database service name is the host name of the Oracle Database Server (for example, ",(0,s.jsx)(n.code,{children:"DATABASE_SERVICE_NAME=cu349.maa.collab.net"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Reports database service name is the host name of the server where the datamart is (for example, ",(0,s.jsx)(n.code,{children:"REPORTS_DATABASE_SERVICE_NAME=cu349.maa.collab.net"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"   DATABASE_TYPE=oracle\r\n\r\n   # Adjust usernames/passwords to match what has been configured on the database server.\r\n   DATABASE_USERNAME=ctfuser\r\n   DATABASE_PASSWORD=ctfpwd\r\n   DATABASE_READ_ONLY_USER=ctfrouser\r\n   DATABASE_READ_ONLY_PASSWORD=ctfropwd\r\n   DATABASE_NAME=orcl\r\n   DATABASE_SERVICE_NAME=\r\n\u200b\r\n   # Adjust usernames/passwords to match what has been configured on the database server.\r\n   REPORTS_DATABASE_USERNAME=ctfrptuser\r\n   REPORTS_DATABASE_PASSWORD=ctfrptpwd\r\n   REPORTS_DATABASE_NAME=orcl\r\n   REPORTS_DATABASE_READ_ONLY_USER=ctfrptrouser\r\n   REPORTS_DATABASE_READ_ONLY_PASSWORD=ctfrptropwd\r\n   REPORTS_DATABASE_SERVICE_NAME=\r\n  \n"})}),"\n",(0,s.jsxs)(n.p,{children:["Save the ",(0,s.jsx)(n.code,{children:"site-options.conf"})," file."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For further customization of your site configuration (SSL settings, password policy settings, PostgreSQL settings, LDAP settings and so on): ",(0,s.jsx)(i.A,{})]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(o.Ay,{}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"verify-teamforge-installation",children:"Verify TeamForge Installation"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(l.Ay,{}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(c.Ay,{}),"\n","\n",(0,s.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,s.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{id:"user-content-fn-1",children:["\n",(0,s.jsxs)(n.p,{children:["TeamForge 23.1 supports Review Board 4.0.6 on RHEL 8.8 and Review Board 4.0.6 on RHEL/CentOS 7.9. ",(0,s.jsx)(n.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{id:"user-content-fn-2",children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"reviewboard-adapter"})," must always be installed on the TeamForge Application Server. ",(0,s.jsx)(n.a,{href:"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},40224:(e,n,r)=>{r.d(n,{A:()=>l});var s=r(63696),t=r(62540),a=r(43023);function i(e){const n={a:"a",code:"code",li:"li",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsx)("div",{class:"",id:"beforeYouBegin",children:(0,t.jsxs)("div",{markdown:"1",children:[(0,t.jsx)("h3",{children:"Dos"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Understand ",(0,t.jsx)(n.a,{href:"../installpages/requirements",children:"TeamForge installation requirements"})," and ",(0,t.jsx)(n.a,{href:"../installpages/plan_your_installation_upgrade",children:"plan your installation or upgrade"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Get your ",(0,t.jsx)(n.a,{href:"../teamforgelicense",children:"TeamForge license"})," key and keep it handy."]}),"\n",(0,t.jsxs)(n.li,{children:["Verify your basic networking setup before installing or upgrading TeamForge. See ",(0,t.jsx)(n.a,{href:"../setupnetworking",children:"Set Up Networking for TeamForge"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Look for new or modified ",(0,t.jsx)(n.code,{children:"site-options.conf"})," tokens and update your ",(0,t.jsx)(n.code,{children:"site-options.conf"})," file as required during the upgrade process. See ",(0,t.jsx)(n.a,{href:"../release-notes/siteoptionschangelog",children:"Site Options Change Log"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Set up a TeamForge Stage Server before you upgrade your Production Server."}),"\n",(0,t.jsx)(n.li,{children:"Stop TeamForge services on all servers in a distributed setup while upgrading to TeamForge 24.0."}),"\n",(0,t.jsx)(n.li,{children:"Uninstall hot fixes and add-ons, if any, before you start the TeamForge 24.0 upgrade procedure."}),"\n",(0,t.jsxs)(n.li,{children:["s a result of changes to the logging framework in Java 9, the ",(0,t.jsx)(n.code,{children:"PrintGCDetails"})," and ",(0,t.jsx)(n.code,{children:"PrintGCTimeStamps"})," logging options are no longer supported. Remove these options from the following tokens while upgrading to TeamForge 18.1 or later. TeamForge provision fails otherwise.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"JBOSS_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"PHOENIX_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"INTEGRATION_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"ETL_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"ELASTICSEARCH_JAVA_OPTS"}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)("h3",{children:"Don'ts"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Do not customize your operating system installation. Select only the default packages list."}),"\n",(0,t.jsxs)(n.li,{children:["While upgrading TeamForge, whether in place or on new hardware, always reuse the old ",(0,t.jsx)(n.code,{children:"site-options.conf"})," file and make changes as necessary. ",(0,t.jsx)(n.strong,{children:"Do not"})," try to start with a new ",(0,t.jsx)(n.code,{children:"site-options.conf"})," file. Reusing the old ",(0,t.jsx)(n.code,{children:"site-options.conf"})," avoids many potential problems, particularly around the management of usernames and passwords."]}),"\n",(0,t.jsxs)(n.li,{children:["Do not manually modify TeamForge-managed site option tokens such as the ",(0,t.jsx)(n.code,{children:"AUTO_DATA"})," token. See [AUTO_DATA][siteoptiontokens.html#auto_data] for more information."]}),"\n",(0,t.jsxs)(n.li,{children:["f you are creating symlinks, note that you must create symlinks only to the TeamForge data directory (",(0,t.jsx)(n.code,{children:"/opt/collabnet/teamforge/var"}),"). You should not create symlinks to TeamForge application directories (such as ",(0,t.jsx)(n.code,{children:"/opt/collabnet"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["o not upgrade the following libraries while applying regular OS security patches as TeamForge uses these libraries:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python"}),"\n",(0,t.jsx)(n.li,{children:"Java"}),"\n",(0,t.jsx)(n.li,{children:"Postgres"}),"\n",(0,t.jsx)(n.li,{children:"Apache"}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)("h3",{children:"Points to Remember"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Installing or upgrading TeamForge needs root privileges. You must log on as root or use a root shell to install or upgrade TeamForge."}),"\n",(0,t.jsxs)(n.li,{children:["SSL is enabled by default and a self-signed certificate is auto-generated. However, you can use a few ",(0,t.jsx)(n.code,{children:"site-options.conf"})," tokens to adjust this behavior. To generate the SSL certificates, see ",(0,t.jsx)(n.a,{href:"../generatesslcerts",children:"Generate SSL Certificates"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"For the ETL service to run as expected in a distributed TeamForge installation, all servers must have the same time zone."}),"\n",(0,t.jsx)(n.li,{children:"If you have Git integration on a separate server, both TeamForge and Git servers must have their time and date synchronized. Similarly, if Subversion is on a separate server, both TeamForge and Subversion servers must have their time and date synchronized."}),"\n"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["It's highly recommended that you install the ",(0,t.jsx)(n.a,{href:"../baseline-overview",children:"TeamForge Baseline"})," services on a separate server as the baselining process can consume considerable CPU and database resources. For more information, see ",(0,t.jsx)(n.a,{href:"../installpages/distributed_install_rhel_centos",children:"Install TeamForge in a Distributed Setup"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"No backup is required for same hardware upgrades. However, you can create a backup as a measure of caution. See [Back up and Restore TeamForge][backupandrestore] for more information."}),"\n",(0,t.jsxs)(n.li,{children:["Always use compatible JDBC drivers meant for specific database versions. See ",(0,t.jsx)(n.a,{href:"https://help.pentaho.com/Documentation/5.2/0D0/160/010",children:"JDBC Drivers Reference"})," for more information. Also see: ",(0,t.jsx)(n.a,{href:"../FAQPages/database-faqs#etl_fails_post_upgrade",children:"Why do ETL jobs fail post TeamForge upgrade?"})]}),"\n",(0,t.jsxs)(n.li,{children:["You can run the initial load job any time after the installation of TeamForge. We recommend that you run it before you hand over the site to the users. For more information, see ",(0,t.jsx)(n.a,{href:"../FAQPages/database-faqs.html#etl_initial_load_jobs",children:"ETL Initial Load Jobs"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"SOAP50 APIs and event handlers are no longer supported in TeamForge 16.10 and later. Use the latest TeamForge SOAP/REST APIs."}),"\n",(0,t.jsxs)(n.li,{children:["TeamForge 24.0 installer expects the system locale to be ",(0,t.jsx)(n.code,{children:"LANG=en_US.UTF-8"}),". TeamForge create runtime (",(0,t.jsx)(n.code,{children:"teamforge provision"}),") fails otherwise."]}),"\n",(0,t.jsxs)(n.li,{children:["Installing TeamForge with service-specific FQDNs (instead of machine-specific host/domain names) is highly recommended so that you will be able to change the system landscape at a later point in time without having any impact on the URLs (in other words, end users do not have to notice or change anything). For example, you can create FQDNs specifically for services such as Subversion, Git, mail, Codesearch and so on. For more information, see ",(0,t.jsx)(n.a,{href:"../siteconfigtokens",children:"Service-specific FQDNs"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"All such service-specific FQDNs must belong to a single sub domain and it is recommended to create a new sub domain for TeamForge."}),"\n",(0,t.jsxs)(n.li,{children:["If you are using service-specific FQDNs","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A wildcard SSL cert is required. SNI SSL cert cannot be used."}),"\n",(0,t.jsx)(n.li,{children:"When SSL is enabled and no custom SSL certificates are provided, a self-signed wildcard cert is generated for the sub domain."}),"\n",(0,t.jsx)(n.li,{children:"When SSL is enabled and a custom SSL certificate is provided, the CN of the certificate is verified to be a wildcard CN."}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The ability to run separate PostgreSQL instances for TeamForge database and datamart on the same server is being deprecated in TeamForge 17.11. If you have TeamForge database and datamart on separate PostgreSQL instances on the same server and if you are upgrading on a new hardware, you must [Create a Single Cluster for Both Database and Datamart][movedbdmintoonepginstance] while upgrading to TeamForge 17.11 or later."}),"\n",(0,t.jsx)(n.li,{children:"While upgrading TeamForge-Git integration servers, it is important that Git master and slave servers are upgraded to the same version of TeamForge-Git integration. On sites with Git Replica Servers, you must upgrade the Git Replica Servers first and then upgrade the master Git servers."}),"\n"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["From TeamForge 19.3, TeamForge Webhooks-based Event Broker is installed automatically when you install/upgrade TeamForge. In other words, you don't have to run the command ",(0,t.jsx)(n.code,{children:"yum install teamforge-webr"})," separately."]}),"\n",(0,t.jsx)(n.li,{children:"Call back URLs registered with WEBR are lost when you restart WEBR. This means, a TeamForge/Jboss restart must follow immediately after you stop or restart WEBR."}),"\n",(0,t.jsxs)(n.li,{children:["TeamForge supports ",(0,t.jsx)(n.a,{href:"https://mmonit.com/monit/",children:"Monit"})," for monitoring services and recovering failed services. Monit is installed on the TeamForge Application server to monitor the health of services and restart the services when they fail. Monit log file is located at ",(0,t.jsx)(n.code,{children:"/opt/collabnet/teamforge/log/monit/monit.log"}),"."]}),"\n"]})]})})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}function l(e){let{children:n}=e;const[r,a]=(0,s.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Here's a list of dos, don'ts and points to remember when you install or upgrade TeamForge."}),(0,t.jsx)("button",{type:"button",className:"btn btn-primary btn-xs light-blue-bg","data-toggle":"collapse",href:"#beforeYouBegin","aria-expanded":"false","aria-controls":"beforeYouBegin",onClick:()=>a((e=>!e)),children:"Click to Show/Hide"}),r&&(0,t.jsx)(o,{})]})}},33430:(e,n,r)=>{r.d(n,{A:()=>l});var s=r(63696),t=r(62540),a=r(43023);function i(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"TeamForge Installation Repository Configuration for Sites with Internet Access"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Contact the ",(0,t.jsx)(n.a,{href:"https://support.digital.ai",children:"Digital.ai Support"})," and download the TeamForge 24.0 installation repository package to ",(0,t.jsx)(n.code,{children:"/tmp"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Install the repository package.","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"yum install -y /tmp/collabnet-teamforge-repo-23.1-0-noarch.rpm\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Refresh your repository cache.","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"yum clean all\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)("h3",{children:"TeamForge Installation Repository Configuration for Sites without Internet Access"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Contact the ",(0,t.jsx)(n.a,{href:"https://support.digital.ai",children:"Digital.ai Support"})," to get the auxiliary installer package for TeamForge 24.0 disconnected installation and save it in ",(0,t.jsx)(n.code,{children:"/tmp"}),".","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["RHEL 8.8 64 bit: ",(0,t.jsx)(n.code,{children:"CTF-Disconnected-media-23.1.355-462.rhel8.x86_64.rpm"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Unpack the disconnected installation package.","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"rpm -ivh <package-name>\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"If not mounted already, mount the RHEL/CentOS installation DVD."}),"\n",(0,t.jsx)(n.p,{children:'The DVD contains the necessary software and utilities required for installing TeamForge without internet access. In the following commands, replace "cdrom" with the identifier for your server\'s CD/DVD drive, if necessary.'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cd /media/\r\nmkdir cdrom\r\nmount /dev/cdrom ./cdrom/\n"})}),"\n",(0,t.jsx)(n.p,{children:"If there are any spaces in the automount, unmount it first and mount it as a filepath, with no spaces."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Create a yum configuration file that points to the RHEL/CentOS installation DVD."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"vi /etc/yum.repos.d/cdrom.repo\n"})}),"\n",(0,t.jsx)(n.p,{children:"Here's a sample yum configuration file."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"[RHEL-CDROM]\r\nname=RHEL CDRom \t\t\t\r\nbaseurl=file:///media/cdrom/Server/\r\ngpgfile=file:///media/cdrom/RPM-GPG-KEY-redhat-release \r\nenabled=1\r\ngpgcheck=0\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Verify your yum configuration files."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"yum list httpd\r\nyum list apr\n"})}),"\n"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}function l(e){let{children:n}=e;const[r,a]=(0,s.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",className:"btn btn-primary btn-xs light-blue-bg","data-toggle":"collapse",href:"#beforeYouBegin","aria-expanded":"false","aria-controls":"beforeYouBegin",onClick:()=>a((e=>!e)),children:"Configure the TeamForge installation repository"}),r&&(0,t.jsx)(o,{})]})}},7907:(e,n,r)=>{r.d(n,{A:()=>l});var s=r(63696),t=r(62540),a=r(43023);function i(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)("h3",{markdown:"1",children:"SSL Tokens"}),"\r\nSSL is enabled by default and a self-signed certificate is auto-generated. Use the following tokens to adjust this behavior."]}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["TeamForge runs only with SSL from TeamForge 19.2. Hence the ",(0,t.jsx)(n.code,{children:"site-options.conf"})," token option ",(0,t.jsx)(n.code,{children:"SSL=off"})," is not supported any more. TeamForge provision fails and throws an error, if ",(0,t.jsx)(n.code,{children:"SSL"})," is set to ",(0,t.jsx)(n.code,{children:"off"}),"."]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"SSL_CERT_FILE=\r\nSSL_KEY_FILE=\r\nSSL_CHAIN_FILE=\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["To generate the SSL certificates, see ",(0,t.jsx)(n.a,{href:"../generatesslcerts",children:"Generate SSL certificates"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Have the custom SSL certificate and private key for custom SSL certificate in place and provide their absolute paths in these tokens. SSL_CHAIN_FILE (intermediate certificate) is optional."}),"\n"]}),"\n",(0,t.jsx)("h3",{markdown:"1",children:"Password Tokens"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["TeamForge 7.1 and later support automatic password creation. See ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#auto_data",children:"AUTO_DATA"})," for more information."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set the ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_PASSWORD_SECURITY",children:"REQUIRE_PASSWORD_SECURITY"})," token to ",(0,t.jsx)(n.code,{children:"true"})," to enforce password security policy for the site."]}),"\n",(0,t.jsxs)(n.p,{children:["If the token ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_PASSWORD_SECURITY",children:"REQUIRE_PASSWORD_SECURITY"})," is enabled, then set a value for the token, ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_CONTROL_EFFECTIVE_DATE",children:"PASSWORD_CONTROL_EFFECTIVE_DATE"}),"."]}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["The Password Control Kit (PCK) disables, deletes or expires user accounts that don't meet the password security requirements starting from the date set for the ",(0,t.jsx)(n.code,{children:"PASSWORD_CONTROL_EFFECTIVE_DATE"})," token. If a date is not set, the PCK disables, deletes or expires user accounts immediately. See ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_CONTROL_EFFECTIVE_DATE",children:"PASSWORD_CONTROL_EFFECTIVE_DATE"})," for more information."]})]}),"\n",(0,t.jsx)(n.p,{children:"You can also set the following tokens to enforce a more stricter password policy:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#MINIMUM_PASSWORD_LENGTH",children:"MINIMUM_PASSWORD_LENGTH"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#MAX_PASSWORD_LENGTH",children:"MAX_PASSWORD_LENGTH"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_REQUIRES_NUMBER",children:"PASSWORD_REQUIRES_NUMBER"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_REQUIRES_NON_ALPHANUM",children:"PASSWORD_REQUIRES_NON_ALPHANUM"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_REQUIRES_MIXED_CASE",children:"PASSWORD_REQUIRES_MIXED_CASE"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_PASSWORD_SECURITY",children:"REQUIRE_PASSWORD_SECURITY"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#LOGIN_ATTEMPT_LOCK",children:"LOGIN_ATTEMPT_LOCK"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#PASSWORD_HISTORY_AGE",children:"PASSWORD_HISTORY_AGE"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../siteoptiontokens#ALLOW_PASSWORD_DICTIONARY_WORD",children:"ALLOW_PASSWORD_DICTIONARY_WORD"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["If the token ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#require_random_admin_password",children:"REQUIRE_RANDOM_ADMIN_PASSWORD"})," is already set to ",(0,t.jsx)(n.code,{children:"true"}),", then set the token ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#admin_email",children:"ADMIN_EMAIL"})," with a valid email address."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"ADMIN_EMAIL=root@{__APPLICATION_HOST__}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If you have LDAP set up for external authentication, you must set the ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#REQUIRE_USER_PASSWORD_CHANGE",children:"REQUIRE_USER_PASSWORD_CHANGE"})," site options token to ",(0,t.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)("h3",{markdown:"1",children:"Prevent Cross-site Scripting"}),"\r\nAn attacker could potentially upload an HTML page to TeamForge that contains active code, such as JavaScript. This active code would then be executed by clients' browsers when they view the page, which can harm the system."]}),"\n",(0,t.jsx)(n.p,{children:"To prevent an attack of this sort, you can specify whether or not HTML code is displayed in TeamForge. This flag applies to all documents, tracker, task, and forum attachments, and files in the file release system."}),"\n",(0,t.jsxs)(n.p,{children:["Set the SAFE_DOWNLOAD_MODE token according to your requirements. For more information, see ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#SAFE_DOWNLOAD_MODE",children:"SAFE_DOWNLOAD_MODE"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)("h3",{markdown:"1",children:"JAVA_OPTS"}),"\r\nConfigure the JBOSS_JAVA_OPTS site-options.conf token. See ",(0,t.jsx)(n.a,{href:"../siteoptiontokens#jboss_java_opts",children:"JBOSS_JAVA_OPTS"}),"."]}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["All JVM parameters but ",(0,t.jsx)(n.code,{children:"-Xms1024m"})," and ",(0,t.jsx)(n.code,{children:"-Xmx2048m"})," have been hard-coded in the TeamForge core application. You need not manually configure any other parameter (such as ",(0,t.jsx)(n.code,{children:"-XX:MaxMetaspaceSize=512m"})," ",(0,t.jsx)(n.code,{children:"-XX:ReservedCodeCacheSize=128M"})," ",(0,t.jsx)(n.code,{children:"-server -XX:+HeapDumpOnOutOfMemoryError"})," ",(0,t.jsx)(n.code,{children:"-Djsse.enableSNIExtension=false"})," ",(0,t.jsx)(n.code,{children:"-Dsun.rmi.dgc.client.gcInterval=600000"})," ",(0,t.jsx)(n.code,{children:"-Dsun.rmi.dgc.server.gcInterval=600000"}),") in the site-options.conf file."]})]}),"\n",(0,t.jsxs)(n.p,{children:["TeamForge 18.1 (and later) supports Java 9. As a result of changes to the logging framework in Java 9, the ",(0,t.jsx)(n.code,{children:"PrintGCDetails"})," and ",(0,t.jsx)(n.code,{children:"PrintGCTimeStamps"})," logging options are no longer supported. Remove these options from the following tokens while upgrading to TeamForge 18.1 or later."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"JBOSS_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"PHOENIX_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"INTEGRATION_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"ETL_JAVA_OPTS"}),"\n",(0,t.jsx)(n.li,{children:"ELASTICSEARCH_JAVA_OPTS"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"TeamForge provision fails on sites that use these options post upgrade to TeamForge 18.1."}),"\n",(0,t.jsxs)("h4",{markdown:"1",children:["Save the ",(0,t.jsx)(n.code,{children:"site-options.conf"})," file."]})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}function l(e){let{children:n}=e;const[r,a]=(0,s.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",className:"btn btn-primary btn-xs light-blue-bg","data-toggle":"collapse",href:"#beforeYouBegin","aria-expanded":"false","aria-controls":"beforeYouBegin",onClick:()=>a((e=>!e)),children:"Site options configuration contd.."}),r&&(0,t.jsx)(o,{})]})}},75905:(e,n,r)=>{r.d(n,{A:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExQTk2MURCMzQ1QTg3OTcyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozQ0IzQzI5Qjg2NTYxMUUxQjU1NkZCQ0RDQTk1MEE3NCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozQ0IzQzI5QTg2NTYxMUUxQjU1NkZCQ0RDQTk1MEE3NCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDQzBDNjg4MTkyMDY4MTE4REJCODA3RUZEMkZCNzcxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAxODAxMTc0MDcyMDY4MTFBOTYxREIzNDVBODc5NzI5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gwrFywAAAehJREFUeNpi/P//PwMtABMDjcDQM5gFXYCRkZEU/cxPnz5LBjGkpaXmAqm/OA0mxdAbN25mTn+yeDKIA2SzaWioT4cZzkSJoQvfrJ+89f5+BhC+9P/W5JUrV2qDPE2uwWBD5z5bN3nj7f0MP7//Z3AVd2D4fur9pPDw8DeEDGa6evWq+b1nDw8DXSEOUwwzdOaDdZPX3dgHNPQfg4e0A4PcVZ758fFxy4Hy34D4Py6DmY4ePWZ57PO13T7r8myEtGX2L1q0GGQ4C8jQKbfXTl5zbS/Drx//GbzkHRmUbvHOz8nJmQOUvwPEn2EGM6LnPGCq4Dx/88rmkK2Vzp9+fmXgY+NmKDGNuWEnrLNy8q0N9Wtv7AWrC9F0ZtB+wg8z9BYQv0dOFdgM5rW0tDQv622Yn39ossynH1/A4hayugwnHl8Gs8N0XBj0XgjgNBSXwexASkZbW9uiaWZvZ/beidIff3yFy0fouTAYvxXCaygYgAxGxtCI4gRiVS0trZjVh3c8Eary+M9cZPM/dnHj/ylTpswDylkBsQgoMnGmHSwGYxp+cPuTnBU9xBuKx2AUw3V0dCK6u3t6iDYURxijG84BNQxEvwPiD1jDlESDYYYzQ9P8X2IMJbYQAtn8h9R8zzhaNcEAQIABAPHG9uJTK4WgAAAAAElFTkSuQmCC"},43023:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var s=r(63696);const t={},a=s.createContext(t);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);